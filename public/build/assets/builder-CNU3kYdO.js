import{R as U,r as R,g as en,a as pa,j as s,c as fa}from"./index-BQ86FjIf.js";function Ar(e,r){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Ar(e,r)}function rn(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Ar(e,r)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},T.apply(null,arguments)}function Fe(e){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fe(e)}function va(e,r){if(Fe(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(Fe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ga(e){var r=va(e,"string");return Fe(r)=="symbol"?r:r+""}function ma(e,r,t){return(r=ga(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ct(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?st(Object(t),!0).forEach(function(n){ma(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):st(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function J(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ut=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),dt=function(){return Math.random().toString(36).substring(7).split("").join(".")},pt={INIT:"@@redux/INIT"+dt(),REPLACE:"@@redux/REPLACE"+dt()};function ba(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function tn(e,r,t){var n;if(typeof r=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(J(0));if(typeof r=="function"&&typeof t>"u"&&(t=r,r=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(J(1));return t(tn)(e,r)}if(typeof e!="function")throw new Error(J(2));var o=e,a=r,i=[],l=i,c=!1;function u(){l===i&&(l=i.slice())}function f(){if(c)throw new Error(J(3));return a}function d(y){if(typeof y!="function")throw new Error(J(4));if(c)throw new Error(J(5));var N=!0;return u(),l.push(y),function(){if(N){if(c)throw new Error(J(6));N=!1,u();var D=l.indexOf(y);l.splice(D,1),i=null}}}function p(y){if(!ba(y))throw new Error(J(7));if(typeof y.type>"u")throw new Error(J(8));if(c)throw new Error(J(9));try{c=!0,a=o(a,y)}finally{c=!1}for(var N=i=l,w=0;w<N.length;w++){var D=N[w];D()}return y}function g(y){if(typeof y!="function")throw new Error(J(10));o=y,p({type:pt.REPLACE})}function m(){var y,N=d;return y={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(J(11));function S(){D.next&&D.next(f())}S();var j=N(S);return{unsubscribe:j}}},y[ut]=function(){return this},y}return p({type:pt.INIT}),n={dispatch:p,subscribe:d,getState:f,replaceReducer:g},n[ut]=m,n}function ft(e,r){return function(){return r(e.apply(this,arguments))}}function vt(e,r){if(typeof e=="function")return ft(e,r);if(typeof e!="object"||e===null)throw new Error(J(16));var t={};for(var n in e){var o=e[n];typeof o=="function"&&(t[n]=ft(o,r))}return t}function nn(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.length===0?function(n){return n}:r.length===1?r[0]:r.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}function ha(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){return function(){var o=n.apply(void 0,arguments),a=function(){throw new Error(J(15))},i={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=r.map(function(c){return c(i)});return a=nn.apply(void 0,l)(o.dispatch),ct(ct({},o),{},{dispatch:a})}}}var an=U.createContext(null);function xa(e){e()}var on=xa,ya=function(r){return on=r},wa=function(){return on};function Ca(){var e=wa(),r=null,t=null;return{clear:function(){r=null,t=null},notify:function(){e(function(){for(var o=r;o;)o.callback(),o=o.next})},get:function(){for(var o=[],a=r;a;)o.push(a),a=a.next;return o},subscribe:function(o){var a=!0,i=t={callback:o,next:null,prev:t};return i.prev?i.prev.next=i:r=i,function(){!a||r===null||(a=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var gt={notify:function(){},get:function(){return[]}};function ln(e,r){var t,n=gt;function o(d){return c(),n.subscribe(d)}function a(){n.notify()}function i(){f.onStateChange&&f.onStateChange()}function l(){return!!t}function c(){t||(t=r?r.addNestedSub(i):e.subscribe(i),n=Ca())}function u(){t&&(t(),t=void 0,n.clear(),n=gt)}var f={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:i,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return f}var sn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect;function Na(e){var r=e.store,t=e.context,n=e.children,o=R.useMemo(function(){var l=ln(r);return{store:r,subscription:l}},[r]),a=R.useMemo(function(){return r.getState()},[r]);sn(function(){var l=o.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==r.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[o,a]);var i=t||an;return U.createElement(i.Provider,{value:o},n)}function Ye(e,r){if(e==null)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.indexOf(n)!==-1)continue;t[n]=e[n]}return t}var mr={exports:{}},G={};var mt;function Da(){if(mt)return G;mt=1;var e=typeof Symbol=="function"&&Symbol.for,r=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,g=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,N=e?Symbol.for("react.fundamental"):60117,w=e?Symbol.for("react.responder"):60118,D=e?Symbol.for("react.scope"):60119;function S(C){if(typeof C=="object"&&C!==null){var h=C.$$typeof;switch(h){case r:switch(C=C.type,C){case c:case u:case n:case a:case o:case d:return C;default:switch(C=C&&C.$$typeof,C){case l:case f:case m:case g:case i:return C;default:return h}}case t:return h}}}function j(C){return S(C)===u}return G.AsyncMode=c,G.ConcurrentMode=u,G.ContextConsumer=l,G.ContextProvider=i,G.Element=r,G.ForwardRef=f,G.Fragment=n,G.Lazy=m,G.Memo=g,G.Portal=t,G.Profiler=a,G.StrictMode=o,G.Suspense=d,G.isAsyncMode=function(C){return j(C)||S(C)===c},G.isConcurrentMode=j,G.isContextConsumer=function(C){return S(C)===l},G.isContextProvider=function(C){return S(C)===i},G.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===r},G.isForwardRef=function(C){return S(C)===f},G.isFragment=function(C){return S(C)===n},G.isLazy=function(C){return S(C)===m},G.isMemo=function(C){return S(C)===g},G.isPortal=function(C){return S(C)===t},G.isProfiler=function(C){return S(C)===a},G.isStrictMode=function(C){return S(C)===o},G.isSuspense=function(C){return S(C)===d},G.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===u||C===a||C===o||C===d||C===p||typeof C=="object"&&C!==null&&(C.$$typeof===m||C.$$typeof===g||C.$$typeof===i||C.$$typeof===l||C.$$typeof===f||C.$$typeof===N||C.$$typeof===w||C.$$typeof===D||C.$$typeof===y)},G.typeOf=S,G}var bt;function Ea(){return bt||(bt=1,mr.exports=Da()),mr.exports}var br,ht;function Sa(){if(ht)return br;ht=1;var e=Ea(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[e.ForwardRef]=n,a[e.Memo]=o;function i(m){return e.isMemo(m)?o:a[m.$$typeof]||r}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;function g(m,y,N){if(typeof y!="string"){if(p){var w=d(y);w&&w!==p&&g(m,w,N)}var D=c(y);u&&(D=D.concat(u(y)));for(var S=i(m),j=i(y),C=0;C<D.length;++C){var h=D[C];if(!t[h]&&!(N&&N[h])&&!(j&&j[h])&&!(S&&S[h])){var x=f(y,h);try{l(m,h,x)}catch{}}}}return m}return br=g,br}var Ia=Sa();const xt=en(Ia);var hr={exports:{}},$={};var yt;function ja(){if(yt)return $;yt=1;var e=60103,r=60106,t=60107,n=60108,o=60114,a=60109,i=60110,l=60112,c=60113,u=60120,f=60115,d=60116,p=60121,g=60122,m=60117,y=60129,N=60131;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;e=w("react.element"),r=w("react.portal"),t=w("react.fragment"),n=w("react.strict_mode"),o=w("react.profiler"),a=w("react.provider"),i=w("react.context"),l=w("react.forward_ref"),c=w("react.suspense"),u=w("react.suspense_list"),f=w("react.memo"),d=w("react.lazy"),p=w("react.block"),g=w("react.server.block"),m=w("react.fundamental"),y=w("react.debug_trace_mode"),N=w("react.legacy_hidden")}function D(E){if(typeof E=="object"&&E!==null){var I=E.$$typeof;switch(I){case e:switch(E=E.type,E){case t:case o:case n:case c:case u:return E;default:switch(E=E&&E.$$typeof,E){case i:case l:case d:case f:case a:return E;default:return I}}case r:return I}}}var S=a,j=e,C=l,h=t,x=d,v=f,F=r,L=o,b=n,P=c;return $.ContextConsumer=i,$.ContextProvider=S,$.Element=j,$.ForwardRef=C,$.Fragment=h,$.Lazy=x,$.Memo=v,$.Portal=F,$.Profiler=L,$.StrictMode=b,$.Suspense=P,$.isAsyncMode=function(){return!1},$.isConcurrentMode=function(){return!1},$.isContextConsumer=function(E){return D(E)===i},$.isContextProvider=function(E){return D(E)===a},$.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},$.isForwardRef=function(E){return D(E)===l},$.isFragment=function(E){return D(E)===t},$.isLazy=function(E){return D(E)===d},$.isMemo=function(E){return D(E)===f},$.isPortal=function(E){return D(E)===r},$.isProfiler=function(E){return D(E)===o},$.isStrictMode=function(E){return D(E)===n},$.isSuspense=function(E){return D(E)===c},$.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===t||E===o||E===y||E===n||E===c||E===u||E===N||typeof E=="object"&&E!==null&&(E.$$typeof===d||E.$$typeof===f||E.$$typeof===a||E.$$typeof===i||E.$$typeof===l||E.$$typeof===m||E.$$typeof===p||E[0]===g)},$.typeOf=D,$}var wt;function Pa(){return wt||(wt=1,hr.exports=ja()),hr.exports}var Aa=Pa(),Fa=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Ba=["reactReduxForwardedRef"],Ra=[],Oa=[null,null];function Ta(e,r){var t=e[1];return[r.payload,t+1]}function Ct(e,r,t){sn(function(){return e.apply(void 0,r)},t)}function Ma(e,r,t,n,o,a,i){e.current=n,r.current=o,t.current=!1,a.current&&(a.current=null,i())}function ka(e,r,t,n,o,a,i,l,c,u){if(e){var f=!1,d=null,p=function(){if(!f){var y=r.getState(),N,w;try{N=n(y,o.current)}catch(D){w=D,d=D}w||(d=null),N===a.current?i.current||c():(a.current=N,l.current=N,i.current=!0,u({type:"STORE_UPDATED",payload:{error:w}}))}};t.onStateChange=p,t.trySubscribe(),p();var g=function(){if(f=!0,t.tryUnsubscribe(),t.onStateChange=null,d)throw d};return g}}var La=function(){return[null,0]};function Ga(e,r){r===void 0&&(r={});var t=r,n=t.getDisplayName,o=n===void 0?function(S){return"ConnectAdvanced("+S+")"}:n,a=t.methodName,i=a===void 0?"connectAdvanced":a,l=t.renderCountProp,c=l===void 0?void 0:l,u=t.shouldHandleStateChanges,f=u===void 0?!0:u,d=t.storeKey,p=d===void 0?"store":d;t.withRef;var g=t.forwardRef,m=g===void 0?!1:g,y=t.context,N=y===void 0?an:y,w=Ye(t,Fa),D=N;return function(j){var C=j.displayName||j.name||"Component",h=o(C),x=T({},w,{getDisplayName:o,methodName:i,renderCountProp:c,shouldHandleStateChanges:f,storeKey:p,displayName:h,wrappedComponentName:C,WrappedComponent:j}),v=w.pure;function F(I){return e(I.dispatch,x)}var L=v?R.useMemo:function(I){return I()};function b(I){var W=R.useMemo(function(){var Ee=I.reactReduxForwardedRef,gr=Ye(I,Ba);return[I.context,Ee,gr]},[I]),H=W[0],Y=W[1],ae=W[2],le=R.useMemo(function(){return H&&H.Consumer&&Aa.isContextConsumer(U.createElement(H.Consumer,null))?H:D},[H,D]),B=R.useContext(le),M=!!I.store&&!!I.store.getState&&!!I.store.dispatch;B&&B.store;var q=M?I.store:B.store,ie=R.useMemo(function(){return F(q)},[q]),De=R.useMemo(function(){if(!f)return Oa;var Ee=ln(q,M?null:B.subscription),gr=Ee.notifyNestedSubs.bind(Ee);return[Ee,gr]},[q,M,B]),oe=De[0],Ge=De[1],$e=R.useMemo(function(){return M?B:T({},B,{subscription:oe})},[M,B,oe]),We=R.useReducer(Ta,Ra,La),ur=We[0],me=ur[0],dr=We[1];if(me&&me.error)throw me.error;var it=R.useRef(),pr=R.useRef(ae),Ue=R.useRef(),lt=R.useRef(!1),fr=L(function(){return Ue.current&&ae===pr.current?Ue.current:ie(q.getState(),ae)},[q,me,ae]);Ct(Ma,[pr,it,lt,ae,fr,Ue,Ge]),Ct(ka,[f,q,oe,ie,pr,it,lt,Ue,Ge,dr],[q,oe,ie]);var vr=R.useMemo(function(){return U.createElement(j,T({},fr,{ref:Y}))},[Y,j,fr]),da=R.useMemo(function(){return f?U.createElement(le.Provider,{value:$e},vr):vr},[le,vr,$e]);return da}var P=v?U.memo(b):b;if(P.WrappedComponent=j,P.displayName=b.displayName=h,m){var E=U.forwardRef(function(W,H){return U.createElement(P,T({},W,{reactReduxForwardedRef:H}))});return E.displayName=h,E.WrappedComponent=j,xt(E,j)}return xt(P,j)}}function Nt(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function xr(e,r){if(Nt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(r,t[o])||!Nt(e[t[o]],r[t[o]]))return!1;return!0}function $a(e,r){var t={},n=function(i){var l=e[i];typeof l=="function"&&(t[i]=function(){return r(l.apply(void 0,arguments))})};for(var o in e)n(o);return t}function kr(e){return function(t,n){var o=e(t,n);function a(){return o}return a.dependsOnOwnProps=!1,a}}function Dt(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function cn(e,r){return function(n,o){o.displayName;var a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=Dt(e);var u=a(l,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=Dt(u),u=a(l,c)),u},a}}function Wa(e){return typeof e=="function"?cn(e):void 0}function Ua(e){return e?void 0:kr(function(r){return{dispatch:r}})}function Ha(e){return e&&typeof e=="object"?kr(function(r){return $a(e,r)}):void 0}const qa=[Wa,Ua,Ha];function Va(e){return typeof e=="function"?cn(e):void 0}function _a(e){return e?void 0:kr(function(){return{}})}const za=[Va,_a];function Ya(e,r,t){return T({},t,e,r)}function Ka(e){return function(t,n){n.displayName;var o=n.pure,a=n.areMergedPropsEqual,i=!1,l;return function(u,f,d){var p=e(u,f,d);return i?(!o||!a(p,l))&&(l=p):(i=!0,l=p),l}}}function Ja(e){return typeof e=="function"?Ka(e):void 0}function Xa(e){return e?void 0:function(){return Ya}}const Qa=[Ja,Xa];var Za=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function eo(e,r,t,n){return function(a,i){return t(e(a,i),r(n,i),i)}}function ro(e,r,t,n,o){var a=o.areStatesEqual,i=o.areOwnPropsEqual,l=o.areStatePropsEqual,c=!1,u,f,d,p,g;function m(S,j){return u=S,f=j,d=e(u,f),p=r(n,f),g=t(d,p,f),c=!0,g}function y(){return d=e(u,f),r.dependsOnOwnProps&&(p=r(n,f)),g=t(d,p,f),g}function N(){return e.dependsOnOwnProps&&(d=e(u,f)),r.dependsOnOwnProps&&(p=r(n,f)),g=t(d,p,f),g}function w(){var S=e(u,f),j=!l(S,d);return d=S,j&&(g=t(d,p,f)),g}function D(S,j){var C=!i(j,f),h=!a(S,u,j,f);return u=S,f=j,C&&h?y():C?N():h?w():g}return function(j,C){return c?D(j,C):m(j,C)}}function to(e,r){var t=r.initMapStateToProps,n=r.initMapDispatchToProps,o=r.initMergeProps,a=Ye(r,Za),i=t(e,a),l=n(e,a),c=o(e,a),u=a.pure?ro:eo;return u(i,l,c,e,a)}var no=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function yr(e,r,t){for(var n=r.length-1;n>=0;n--){var o=r[n](e);if(o)return o}return function(a,i){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+i.wrappedComponentName+".")}}function ao(e,r){return e===r}function oo(e){var r=e===void 0?{}:e,t=r.connectHOC,n=t===void 0?Ga:t,o=r.mapStateToPropsFactories,a=o===void 0?za:o,i=r.mapDispatchToPropsFactories,l=i===void 0?qa:i,c=r.mergePropsFactories,u=c===void 0?Qa:c,f=r.selectorFactory,d=f===void 0?to:f;return function(g,m,y,N){N===void 0&&(N={});var w=N,D=w.pure,S=D===void 0?!0:D,j=w.areStatesEqual,C=j===void 0?ao:j,h=w.areOwnPropsEqual,x=h===void 0?xr:h,v=w.areStatePropsEqual,F=v===void 0?xr:v,L=w.areMergedPropsEqual,b=L===void 0?xr:L,P=Ye(w,no),E=yr(g,a,"mapStateToProps"),I=yr(m,l,"mapDispatchToProps"),W=yr(y,u,"mergeProps");return n(d,T({methodName:"connect",getDisplayName:function(Y){return"Connect("+Y+")"},shouldHandleStateChanges:!!g,initMapStateToProps:E,initMapDispatchToProps:I,initMergeProps:W,pure:S,areStatesEqual:C,areOwnPropsEqual:x,areStatePropsEqual:F,areMergedPropsEqual:b},P))}}const un=oo();var dn=pa();const io=en(dn);ya(dn.unstable_batchedUpdates);function lo(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function pn(e,r){var t=R.useState(function(){return{inputs:r,result:e()}})[0],n=R.useRef(!0),o=R.useRef(t),a=n.current||!!(r&&o.current.inputs&&lo(r,o.current.inputs)),i=a?o.current:{inputs:r,result:e()};return R.useEffect(function(){n.current=!1,o.current=i},[i]),i.result}function so(e,r){return pn(function(){return e},r)}var k=pn,O=so,co="Invariant failed";function uo(e,r){throw new Error(co)}var ne=function(r){var t=r.top,n=r.right,o=r.bottom,a=r.left,i=n-a,l=o-t,c={top:t,right:n,bottom:o,left:a,width:i,height:l,x:a,y:t,center:{x:(n+a)/2,y:(o+t)/2}};return c},Lr=function(r,t){return{top:r.top-t.top,left:r.left-t.left,bottom:r.bottom+t.bottom,right:r.right+t.right}},Et=function(r,t){return{top:r.top+t.top,left:r.left+t.left,bottom:r.bottom-t.bottom,right:r.right-t.right}},po=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},wr={top:0,right:0,bottom:0,left:0},Gr=function(r){var t=r.borderBox,n=r.margin,o=n===void 0?wr:n,a=r.border,i=a===void 0?wr:a,l=r.padding,c=l===void 0?wr:l,u=ne(Lr(t,o)),f=ne(Et(t,i)),d=ne(Et(f,c));return{marginBox:u,borderBox:ne(t),paddingBox:f,contentBox:d,margin:o,border:i,padding:c}},ee=function(r){var t=r.slice(0,-2),n=r.slice(-2);if(n!=="px")return 0;var o=Number(t);return isNaN(o)&&uo(),o},fo=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ke=function(r,t){var n=r.borderBox,o=r.border,a=r.margin,i=r.padding,l=po(n,t);return Gr({borderBox:l,border:o,margin:a,padding:i})},Je=function(r,t){return t===void 0&&(t=fo()),Ke(r,t)},fn=function(r,t){var n={top:ee(t.marginTop),right:ee(t.marginRight),bottom:ee(t.marginBottom),left:ee(t.marginLeft)},o={top:ee(t.paddingTop),right:ee(t.paddingRight),bottom:ee(t.paddingBottom),left:ee(t.paddingLeft)},a={top:ee(t.borderTopWidth),right:ee(t.borderRightWidth),bottom:ee(t.borderBottomWidth),left:ee(t.borderLeftWidth)};return Gr({borderBox:r,margin:n,padding:o,border:a})},vn=function(r){var t=r.getBoundingClientRect(),n=window.getComputedStyle(r);return fn(t,n)},St=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function vo(e,r){return!!(e===r||St(e)&&St(r))}function go(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!vo(e[t],r[t]))return!1;return!0}function V(e,r){r===void 0&&(r=go);var t,n=[],o,a=!1;function i(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return a&&t===this&&r(l,n)||(o=e.apply(this,l),a=!0,t=this,n=l),o}return i}var Be=function(r){var t=[],n=null,o=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t=l,!n&&(n=requestAnimationFrame(function(){n=null,r.apply(void 0,t)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function gn(e,r){}gn.bind(null,"warn");gn.bind(null,"error");function se(){}function mo(e,r){return T({},e,{},r)}function re(e,r,t){var n=r.map(function(o){var a=mo(t,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){n.forEach(function(a){a()})}}var bo="Invariant failed";function Xe(e){this.message=e}Xe.prototype.toString=function(){return this.message};function A(e,r){throw new Xe(bo)}var ho=(function(e){rn(r,e);function r(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=se,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof Xe&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var t=r.prototype;return t.componentDidMount=function(){this.unbind=re(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(o){if(o instanceof Xe){this.setState({});return}throw o},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},r})(U.Component),xo=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Qe=function(r){return r+1},yo=function(r){return`
  You have lifted an item in position `+Qe(r.source.index)+`
`},mn=function(r,t){var n=r.droppableId===t.droppableId,o=Qe(r.index),a=Qe(t.index);return n?`
      You have moved the item from position `+o+`
      to position `+a+`
    `:`
    You have moved the item from position `+o+`
    in list `+r.droppableId+`
    to list `+t.droppableId+`
    in position `+a+`
  `},bn=function(r,t,n){var o=t.droppableId===n.droppableId;return o?`
      The item `+r+`
      has been combined with `+n.draggableId:`
      The item `+r+`
      in list `+t.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},wo=function(r){var t=r.destination;if(t)return mn(r.source,t);var n=r.combine;return n?bn(r.draggableId,r.source,n):"You are over an area that cannot be dropped on"},It=function(r){return`
  The item has returned to its starting position
  of `+Qe(r.index)+`
`},Co=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+It(r.source)+`
    `;var t=r.destination,n=r.combine;return t?`
      You have dropped the item.
      `+mn(r.source,t)+`
    `:n?`
      You have dropped the item.
      `+bn(r.draggableId,r.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+It(r.source)+`
  `},ze={dragHandleUsageInstructions:xo,onDragStart:yo,onDragUpdate:wo,onDragEnd:Co},_={x:0,y:0},z=function(r,t){return{x:r.x+t.x,y:r.y+t.y}},X=function(r,t){return{x:r.x-t.x,y:r.y-t.y}},ce=function(r,t){return r.x===t.x&&r.y===t.y},we=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},ge=function(r,t,n){var o;return n===void 0&&(n=0),o={},o[r]=t,o[r==="x"?"y":"x"]=n,o},Re=function(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))},jt=function(r,t){return Math.min.apply(Math,t.map(function(n){return Re(r,n)}))},hn=function(r){return function(t){return{x:r(t.x),y:r(t.y)}}},No=(function(e,r){var t=ne({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return t.width<=0||t.height<=0?null:t}),ke=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},Pt=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},Do={top:0,right:0,bottom:0,left:0},Eo=function(r,t){return t?ke(r,t.scroll.diff.displacement):r},So=function(r,t,n){if(n&&n.increasedBy){var o;return T({},r,(o={},o[t.end]=r[t.end]+n.increasedBy[t.line],o))}return r},Io=function(r,t){return t&&t.shouldClipSubject?No(t.pageMarginBox,r):ne(r)},he=(function(e){var r=e.page,t=e.withPlaceholder,n=e.axis,o=e.frame,a=Eo(r.marginBox,o),i=So(a,n,t),l=Io(i,o);return{page:r,withPlaceholder:t,active:l}}),$r=(function(e,r){e.frame||A();var t=e.frame,n=X(r,t.scroll.initial),o=we(n),a=T({},t,{scroll:{initial:t.scroll.initial,current:r,diff:{value:n,displacement:o},max:t.scroll.max}}),i=he({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),l=T({},e,{frame:a,subject:i});return l});function Ze(e){return Object.values?Object.values(e):Object.keys(e).map(function(r){return e[r]})}function Wr(e,r){if(e.findIndex)return e.findIndex(r);for(var t=0;t<e.length;t++)if(r(e[t]))return t;return-1}function pe(e,r){if(e.find)return e.find(r);var t=Wr(e,r);if(t!==-1)return e[t]}function xn(e){return Array.prototype.slice.call(e)}var yn=V(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),wn=V(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),nr=V(function(e){return Ze(e)}),jo=V(function(e){return Ze(e)}),Ce=V(function(e,r){var t=jo(r).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,o){return n.descriptor.index-o.descriptor.index});return t});function Ur(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ar(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var or=V(function(e,r){return r.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),Po=(function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,o=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var i=Ur(a);if(!i)return null;function l(y){var N={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return T({},a,{at:N})}var c=a.displaced.all,u=c.length?c[0]:null;if(r)return u?l(u):null;var f=or(t,o);if(!u){if(!f.length)return null;var d=f[f.length-1];return l(d.descriptor.id)}var p=Wr(f,function(y){return y.descriptor.id===u});p===-1&&A();var g=p-1;if(g<0)return null;var m=f[g];return l(m.descriptor.id)}),Ne=(function(e,r){return e.descriptor.droppableId===r.descriptor.id}),Cn={point:_,value:0},Oe={invisible:{},visible:{},all:[]},Ao={displaced:Oe,displacedBy:Cn,at:null},te=(function(e,r){return function(t){return e<=t&&t<=r}}),Nn=(function(e){var r=te(e.top,e.bottom),t=te(e.left,e.right);return function(n){var o=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);if(o)return!0;var a=r(n.top)||r(n.bottom),i=t(n.left)||t(n.right),l=a&&i;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,f=c&&u;if(f)return!0;var d=c&&i||u&&a;return d}}),Fo=(function(e){var r=te(e.top,e.bottom),t=te(e.left,e.right);return function(n){var o=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);return o}}),Hr={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Dn={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Bo=(function(e){return function(r){var t=te(r.top,r.bottom),n=te(r.left,r.right);return function(o){return e===Hr?t(o.top)&&t(o.bottom):n(o.left)&&n(o.right)}}}),Ro=function(r,t){var n=t.frame?t.frame.scroll.diff.displacement:_;return ke(r,n)},Oo=function(r,t,n){return t.subject.active?n(t.subject.active)(r):!1},To=function(r,t,n){return n(t)(r)},qr=function(r){var t=r.target,n=r.destination,o=r.viewport,a=r.withDroppableDisplacement,i=r.isVisibleThroughFrameFn,l=a?Ro(t,n):t;return Oo(l,n,i)&&To(l,o,i)},Mo=function(r){return qr(T({},r,{isVisibleThroughFrameFn:Nn}))},En=function(r){return qr(T({},r,{isVisibleThroughFrameFn:Fo}))},ko=function(r){return qr(T({},r,{isVisibleThroughFrameFn:Bo(r.destination.axis)}))},Lo=function(r,t,n){if(typeof n=="boolean")return n;if(!t)return!0;var o=t.invisible,a=t.visible;if(o[r])return!1;var i=a[r];return i?i.shouldAnimate:!0};function Go(e,r){var t=e.page.marginBox,n={top:r.point.y,right:0,bottom:0,left:r.point.x};return ne(Lr(t,n))}function Te(e){var r=e.afterDragging,t=e.destination,n=e.displacedBy,o=e.viewport,a=e.forceShouldAnimate,i=e.last;return r.reduce(function(c,u){var f=Go(u,n),d=u.descriptor.id;c.all.push(d);var p=Mo({target:f,destination:t,viewport:o,withDroppableDisplacement:!0});if(!p)return c.invisible[u.descriptor.id]=!0,c;var g=Lo(d,i,a),m={draggableId:d,shouldAnimate:g};return c.visible[d]=m,c},{all:[],visible:{},invisible:{}})}function $o(e,r){if(!e.length)return 0;var t=e[e.length-1].descriptor.index;return r.inHomeList?t:t+1}function At(e){var r=e.insideDestination,t=e.inHomeList,n=e.displacedBy,o=e.destination,a=$o(r,{inHomeList:t});return{displaced:Oe,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:a}}}}function er(e){var r=e.draggable,t=e.insideDestination,n=e.destination,o=e.viewport,a=e.displacedBy,i=e.last,l=e.index,c=e.forceShouldAnimate,u=Ne(r,n);if(l==null)return At({insideDestination:t,inHomeList:u,displacedBy:a,destination:n});var f=pe(t,function(y){return y.descriptor.index===l});if(!f)return At({insideDestination:t,inHomeList:u,displacedBy:a,destination:n});var d=or(r,t),p=t.indexOf(f),g=d.slice(p),m=Te({afterDragging:g,destination:n,displacedBy:a,last:i,viewport:o.frame,forceShouldAnimate:c});return{displaced:m,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function de(e,r){return!!r.effected[e]}var Wo=(function(e){var r=e.isMovingForward,t=e.destination,n=e.draggables,o=e.combine,a=e.afterCritical;if(!t.isCombineEnabled)return null;var i=o.draggableId,l=n[i],c=l.descriptor.index,u=de(i,a);return u?r?c:c-1:r?c+1:c}),Uo=(function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var a=o.index,i=r?a+1:a-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=t?c:c+1;return i<l||i>u?null:i}),Ho=(function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.draggable,o=e.draggables,a=e.destination,i=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,f=l.at;if(f||A(),f.type==="REORDER"){var d=Uo({isMovingForward:r,isInHomeList:t,location:f.destination,insideDestination:i});return d==null?null:er({draggable:n,insideDestination:i,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:d})}var p=Wo({isMovingForward:r,destination:a,displaced:l.displaced,draggables:o,combine:f.combine,afterCritical:u});return p==null?null:er({draggable:n,insideDestination:i,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:p})}),qo=(function(e){var r=e.displaced,t=e.afterCritical,n=e.combineWith,o=e.displacedBy,a=!!(r.visible[n]||r.invisible[n]);return de(n,t)?a?_:we(o.point):a?o.point:_}),Vo=(function(e){var r=e.afterCritical,t=e.impact,n=e.draggables,o=ar(t);o||A();var a=o.draggableId,i=n[a].page.borderBox.center,l=qo({displaced:t.displaced,afterCritical:r,combineWith:a,displacedBy:t.displacedBy});return z(i,l)}),Sn=function(r,t){return t.margin[r.start]+t.borderBox[r.size]/2},_o=function(r,t){return t.margin[r.end]+t.borderBox[r.size]/2},Vr=function(r,t,n){return t[r.crossAxisStart]+n.margin[r.crossAxisStart]+n.borderBox[r.crossAxisSize]/2},Ft=function(r){var t=r.axis,n=r.moveRelativeTo,o=r.isMoving;return ge(t.line,n.marginBox[t.end]+Sn(t,o),Vr(t,n.marginBox,o))},Bt=function(r){var t=r.axis,n=r.moveRelativeTo,o=r.isMoving;return ge(t.line,n.marginBox[t.start]-_o(t,o),Vr(t,n.marginBox,o))},zo=function(r){var t=r.axis,n=r.moveInto,o=r.isMoving;return ge(t.line,n.contentBox[t.start]+Sn(t,o),Vr(t,n.contentBox,o))},Yo=(function(e){var r=e.impact,t=e.draggable,n=e.draggables,o=e.droppable,a=e.afterCritical,i=Ce(o.descriptor.id,n),l=t.page,c=o.axis;if(!i.length)return zo({axis:c,moveInto:o.page,isMoving:l});var u=r.displaced,f=r.displacedBy,d=u.all[0];if(d){var p=n[d];if(de(d,a))return Bt({axis:c,moveRelativeTo:p.page,isMoving:l});var g=Ke(p.page,f.point);return Bt({axis:c,moveRelativeTo:g,isMoving:l})}var m=i[i.length-1];if(m.descriptor.id===t.descriptor.id)return l.borderBox.center;if(de(m.descriptor.id,a)){var y=Ke(m.page,we(a.displacedBy.point));return Ft({axis:c,moveRelativeTo:y,isMoving:l})}return Ft({axis:c,moveRelativeTo:m.page,isMoving:l})}),Fr=(function(e,r){var t=e.frame;return t?z(r,t.scroll.diff.displacement):r}),Ko=function(r){var t=r.impact,n=r.draggable,o=r.droppable,a=r.draggables,i=r.afterCritical,l=n.page.borderBox.center,c=t.at;return!o||!c?l:c.type==="REORDER"?Yo({impact:t,draggable:n,draggables:a,droppable:o,afterCritical:i}):Vo({impact:t,draggables:a,afterCritical:i})},ir=(function(e){var r=Ko(e),t=e.droppable,n=t?Fr(t,r):r;return n}),In=(function(e,r){var t=X(r,e.scroll.initial),n=we(t),o=ne({top:r.y,bottom:r.y+e.frame.height,left:r.x,right:r.x+e.frame.width}),a={frame:o,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:r,diff:{value:t,displacement:n}}};return a});function Rt(e,r){return e.map(function(t){return r[t]})}function Jo(e,r){for(var t=0;t<r.length;t++){var n=r[t].visible[e];if(n)return n}return null}var Xo=(function(e){var r=e.impact,t=e.viewport,n=e.destination,o=e.draggables,a=e.maxScrollChange,i=In(t,z(t.scroll.current,a)),l=n.frame?$r(n,z(n.frame.scroll.current,a)):n,c=r.displaced,u=Te({afterDragging:Rt(c.all,o),destination:n,displacedBy:r.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),f=Te({afterDragging:Rt(c.all,o),destination:l,displacedBy:r.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),d={},p={},g=[c,u,f];c.all.forEach(function(y){var N=Jo(y,g);if(N){p[y]=N;return}d[y]=!0});var m=T({},r,{displaced:{all:c.all,invisible:d,visible:p}});return m}),Qo=(function(e,r){return z(e.scroll.diff.displacement,r)}),_r=(function(e){var r=e.pageBorderBoxCenter,t=e.draggable,n=e.viewport,o=Qo(n,r),a=X(o,t.page.borderBox.center);return z(t.client.borderBox.center,a)}),jn=(function(e){var r=e.draggable,t=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,a=e.withDroppableDisplacement,i=e.onlyOnMainAxis,l=i===void 0?!1:i,c=X(n,r.page.borderBox.center),u=ke(r.page.borderBox,c),f={target:u,destination:t,withDroppableDisplacement:a,viewport:o};return l?ko(f):En(f)}),Zo=(function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,o=e.draggables,a=e.previousImpact,i=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var f=Ce(n.descriptor.id,o),d=Ne(t,n),p=Po({isMovingForward:r,draggable:t,destination:n,insideDestination:f,previousImpact:a})||Ho({isMovingForward:r,isInHomeList:d,draggable:t,draggables:o,destination:n,insideDestination:f,previousImpact:a,viewport:i,afterCritical:u});if(!p)return null;var g=ir({impact:p,draggable:t,droppable:n,draggables:o,afterCritical:u}),m=jn({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var y=_r({pageBorderBoxCenter:g,draggable:t,viewport:i});return{clientSelection:y,impact:p,scrollJumpRequest:null}}var N=X(g,l),w=Xo({impact:p,viewport:i,destination:n,draggables:o,maxScrollChange:N});return{clientSelection:c,impact:w,scrollJumpRequest:N}}),K=function(r){var t=r.subject.active;return t||A(),t},ei=(function(e){var r=e.isMovingForward,t=e.pageBorderBoxCenter,n=e.source,o=e.droppables,a=e.viewport,i=n.subject.active;if(!i)return null;var l=n.axis,c=te(i[l.start],i[l.end]),u=nr(o).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return Nn(a.frame)(K(d))}).filter(function(d){var p=K(d);return r?i[l.crossAxisEnd]<p[l.crossAxisEnd]:p[l.crossAxisStart]<i[l.crossAxisStart]}).filter(function(d){var p=K(d),g=te(p[l.start],p[l.end]);return c(p[l.start])||c(p[l.end])||g(i[l.start])||g(i[l.end])}).sort(function(d,p){var g=K(d)[l.crossAxisStart],m=K(p)[l.crossAxisStart];return r?g-m:m-g}).filter(function(d,p,g){return K(d)[l.crossAxisStart]===K(g[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var f=u.filter(function(d){var p=te(K(d)[l.start],K(d)[l.end]);return p(t[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(d,p){return K(d)[l.start]-K(p)[l.start]})[0]:u.sort(function(d,p){var g=jt(t,Pt(K(d))),m=jt(t,Pt(K(p)));return g!==m?g-m:K(d)[l.start]-K(p)[l.start]})[0]}),Ot=function(r,t){var n=r.page.borderBox.center;return de(r.descriptor.id,t)?X(n,t.displacedBy.point):n},ri=function(r,t){var n=r.page.borderBox;return de(r.descriptor.id,t)?ke(n,we(t.displacedBy.point)):n},ti=(function(e){var r=e.pageBorderBoxCenter,t=e.viewport,n=e.destination,o=e.insideDestination,a=e.afterCritical,i=o.filter(function(l){return En({target:ri(l,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=Re(r,Fr(n,Ot(l,a))),f=Re(r,Fr(n,Ot(c,a)));return u<f?-1:f<u?1:l.descriptor.index-c.descriptor.index});return i[0]||null}),Le=V(function(r,t){var n=t[r.line];return{value:n,point:ge(r.line,n)}}),ni=function(r,t,n){var o=r.axis;if(r.descriptor.mode==="virtual")return ge(o.line,t[o.line]);var a=r.subject.page.contentBox[o.size],i=Ce(r.descriptor.id,n),l=i.reduce(function(f,d){return f+d.client.marginBox[o.size]},0),c=l+t[o.line],u=c-a;return u<=0?null:ge(o.line,u)},Pn=function(r,t){return T({},r,{scroll:T({},r.scroll,{max:t})})},An=function(r,t,n){var o=r.frame;Ne(t,r)&&A(),r.subject.withPlaceholder&&A();var a=Le(r.axis,t.displaceBy).point,i=ni(r,a,n),l={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!o){var c=he({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:r.frame});return T({},r,{subject:c})}var u=i?z(o.scroll.max,i):o.scroll.max,f=Pn(o,u),d=he({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:f});return T({},r,{subject:d,frame:f})},ai=function(r){var t=r.subject.withPlaceholder;t||A();var n=r.frame;if(!n){var o=he({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return T({},r,{subject:o})}var a=t.oldFrameMaxScroll;a||A();var i=Pn(n,a),l=he({page:r.subject.page,axis:r.axis,frame:i,withPlaceholder:null});return T({},r,{subject:l,frame:i})},oi=(function(e){var r=e.previousPageBorderBoxCenter,t=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,a=e.draggables,i=e.destination,l=e.viewport,c=e.afterCritical;if(!t){if(n.length)return null;var u={displaced:Oe,displacedBy:Cn,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=ir({impact:u,draggable:o,droppable:i,draggables:a,afterCritical:c}),d=Ne(o,i)?i:An(i,o,a),p=jn({draggable:o,destination:d,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var g=r[i.axis.line]<=t.page.borderBox.center[i.axis.line],m=(function(){var N=t.descriptor.index;return t.descriptor.id===o.descriptor.id||g?N:N+1})(),y=Le(i.axis,o.displaceBy);return er({draggable:o,insideDestination:n,destination:i,viewport:l,displacedBy:y,last:Oe,index:m})}),ii=(function(e){var r=e.isMovingForward,t=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,a=e.draggables,i=e.droppables,l=e.viewport,c=e.afterCritical,u=ei({isMovingForward:r,pageBorderBoxCenter:t,source:o,droppables:i,viewport:l});if(!u)return null;var f=Ce(u.descriptor.id,a),d=ti({pageBorderBoxCenter:t,viewport:l,destination:u,insideDestination:f,afterCritical:c}),p=oi({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:a,moveRelativeTo:d,insideDestination:f,viewport:l,afterCritical:c});if(!p)return null;var g=ir({impact:p,draggable:n,droppable:u,draggables:a,afterCritical:c}),m=_r({pageBorderBoxCenter:g,draggable:n,viewport:l});return{clientSelection:m,impact:p,scrollJumpRequest:null}}),Q=(function(e){var r=e.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null}),li=function(r,t){var n=Q(r);return n?t[n]:null},si=(function(e){var r=e.state,t=e.type,n=li(r.impact,r.dimensions.droppables),o=!!n,a=r.dimensions.droppables[r.critical.droppable.id],i=n||a,l=i.axis.direction,c=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!o)return null;var u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=r.dimensions.draggables[r.critical.draggable.id],d=r.current.page.borderBoxCenter,p=r.dimensions,g=p.draggables,m=p.droppables;return c?Zo({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:f,destination:i,draggables:g,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):ii({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:f,isOver:i,draggables:g,droppables:m,viewport:r.viewport,afterCritical:r.afterCritical})});function ve(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Fn(e){var r=te(e.top,e.bottom),t=te(e.left,e.right);return function(o){return r(o.y)&&t(o.x)}}function ci(e,r){return e.left<r.right&&e.right>r.left&&e.top<r.bottom&&e.bottom>r.top}function ui(e){var r=e.pageBorderBox,t=e.draggable,n=e.candidates,o=t.page.borderBox.center,a=n.map(function(i){var l=i.axis,c=ge(i.axis.line,r.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:Re(o,c)}}).sort(function(i,l){return l.distance-i.distance});return a[0]?a[0].id:null}function di(e){var r=e.pageBorderBox,t=e.draggable,n=e.droppables,o=nr(n).filter(function(a){if(!a.isEnabled)return!1;var i=a.subject.active;if(!i||!ci(r,i))return!1;if(Fn(i)(r.center))return!0;var l=a.axis,c=i.center[l.crossAxisLine],u=r[l.crossAxisStart],f=r[l.crossAxisEnd],d=te(i[l.crossAxisStart],i[l.crossAxisEnd]),p=d(u),g=d(f);return!p&&!g?!0:p?u<c:f>c});return o.length?o.length===1?o[0].descriptor.id:ui({pageBorderBox:r,draggable:t,candidates:o}):null}var Bn=function(r,t){return ne(ke(r,t))},pi=(function(e,r){var t=e.frame;return t?Bn(r,t.scroll.diff.value):r});function Rn(e){var r=e.displaced,t=e.id;return!!(r.visible[t]||r.invisible[t])}function fi(e){var r=e.draggable,t=e.closest,n=e.inHomeList;return t?n&&t.descriptor.index>r.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var vi=(function(e){var r=e.pageBorderBoxWithDroppableScroll,t=e.draggable,n=e.destination,o=e.insideDestination,a=e.last,i=e.viewport,l=e.afterCritical,c=n.axis,u=Le(n.axis,t.displaceBy),f=u.value,d=r[c.start],p=r[c.end],g=or(t,o),m=pe(g,function(N){var w=N.descriptor.id,D=N.page.borderBox.center[c.line],S=de(w,l),j=Rn({displaced:a,id:w});return S?j?p<=D:d<D-f:j?p<=D+f:d<D}),y=fi({draggable:t,closest:m,inHomeList:Ne(t,n)});return er({draggable:t,insideDestination:o,destination:n,viewport:i,last:a,displacedBy:u,index:y})}),gi=4,mi=(function(e){var r=e.draggable,t=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,a=e.insideDestination,i=e.afterCritical;if(!o.isCombineEnabled)return null;var l=o.axis,c=Le(o.axis,r.displaceBy),u=c.value,f=t[l.start],d=t[l.end],p=or(r,a),g=pe(p,function(y){var N=y.descriptor.id,w=y.page.borderBox,D=w[l.size],S=D/gi,j=de(N,i),C=Rn({displaced:n.displaced,id:N});return j?C?d>w[l.start]+S&&d<w[l.end]-S:f>w[l.start]-u+S&&f<w[l.end]-u-S:C?d>w[l.start]+u+S&&d<w[l.end]+u-S:f>w[l.start]+S&&f<w[l.end]-S});if(!g)return null;var m={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:o.descriptor.id}}};return m}),On=(function(e){var r=e.pageOffset,t=e.draggable,n=e.draggables,o=e.droppables,a=e.previousImpact,i=e.viewport,l=e.afterCritical,c=Bn(t.page.borderBox,r),u=di({pageBorderBox:c,draggable:t,droppables:o});if(!u)return Ao;var f=o[u],d=Ce(f.descriptor.id,n),p=pi(f,c);return mi({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:a,destination:f,insideDestination:d,afterCritical:l})||vi({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:d,last:a.displaced,viewport:i,afterCritical:l})}),zr=(function(e,r){var t;return T({},e,(t={},t[r.descriptor.id]=r,t))}),bi=function(r){var t=r.previousImpact,n=r.impact,o=r.droppables,a=Q(t),i=Q(n);if(!a||a===i)return o;var l=o[a];if(!l.subject.withPlaceholder)return o;var c=ai(l);return zr(o,c)},hi=(function(e){var r=e.draggable,t=e.draggables,n=e.droppables,o=e.previousImpact,a=e.impact,i=bi({previousImpact:o,impact:a,droppables:n}),l=Q(a);if(!l)return i;var c=n[l];if(Ne(r,c)||c.subject.withPlaceholder)return i;var u=An(c,r,t);return zr(i,u)}),Pe=(function(e){var r=e.state,t=e.clientSelection,n=e.dimensions,o=e.viewport,a=e.impact,i=e.scrollJumpRequest,l=o||r.viewport,c=n||r.dimensions,u=t||r.current.client.selection,f=X(u,r.initial.client.selection),d={offset:f,selection:u,borderBoxCenter:z(r.initial.client.borderBoxCenter,f)},p={selection:z(d.selection,l.scroll.current),borderBoxCenter:z(d.borderBoxCenter,l.scroll.current),offset:z(d.offset,l.scroll.diff.value)},g={client:d,page:p};if(r.phase==="COLLECTING")return T({phase:"COLLECTING"},r,{dimensions:c,viewport:l,current:g});var m=c.draggables[r.critical.draggable.id],y=a||On({pageOffset:p.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:r.impact,viewport:l,afterCritical:r.afterCritical}),N=hi({draggable:m,impact:y,previousImpact:r.impact,draggables:c.draggables,droppables:c.droppables}),w=T({},r,{current:g,dimensions:{draggables:c.draggables,droppables:N},impact:y,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return w});function xi(e,r){return e.map(function(t){return r[t]})}var Tn=(function(e){var r=e.impact,t=e.viewport,n=e.draggables,o=e.destination,a=e.forceShouldAnimate,i=r.displaced,l=xi(i.all,n),c=Te({afterDragging:l,destination:o,displacedBy:r.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return T({},r,{displaced:c})}),Mn=(function(e){var r=e.impact,t=e.draggable,n=e.droppable,o=e.draggables,a=e.viewport,i=e.afterCritical,l=ir({impact:r,draggable:t,draggables:o,droppable:n,afterCritical:i});return _r({pageBorderBoxCenter:l,draggable:t,viewport:a})}),kn=(function(e){var r=e.state,t=e.dimensions,n=e.viewport;r.movementMode!=="SNAP"&&A();var o=r.impact,a=n||r.viewport,i=t||r.dimensions,l=i.draggables,c=i.droppables,u=l[r.critical.draggable.id],f=Q(o);f||A();var d=c[f],p=Tn({impact:o,viewport:a,destination:d,draggables:l}),g=Mn({impact:p,draggable:u,droppable:d,draggables:l,viewport:a,afterCritical:r.afterCritical});return Pe({impact:p,clientSelection:g,state:r,dimensions:i,viewport:a})}),yi=(function(e){return{index:e.index,droppableId:e.droppableId}}),Ln=(function(e){var r=e.draggable,t=e.home,n=e.draggables,o=e.viewport,a=Le(t.axis,r.displaceBy),i=Ce(t.descriptor.id,n),l=i.indexOf(r);l===-1&&A();var c=i.slice(l+1),u=c.reduce(function(g,m){return g[m.descriptor.id]=!0,g},{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:u},d=Te({afterDragging:c,destination:t,displacedBy:a,last:null,viewport:o.frame,forceShouldAnimate:!1}),p={displaced:d,displacedBy:a,at:{type:"REORDER",destination:yi(r.descriptor)}};return{impact:p,afterCritical:f}}),wi=(function(e,r){return{draggables:e.draggables,droppables:zr(e.droppables,r)}}),Ci=(function(e){var r=e.draggable,t=e.offset,n=e.initialWindowScroll,o=Ke(r.client,t),a=Je(o,n),i=T({},r,{placeholder:T({},r.placeholder,{client:o}),client:o,page:a});return i}),Ni=(function(e){var r=e.frame;return r||A(),r}),Di=(function(e){var r=e.additions,t=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return r.map(function(a){var i=a.descriptor.droppableId,l=t[i],c=Ni(l),u=c.scroll.diff.value,f=z(o,u),d=Ci({draggable:a,offset:f,initialWindowScroll:n.scroll.initial});return d})}),Ei=(function(e){var r=e.state,t=e.published,n=t.modified.map(function(S){var j=r.dimensions.droppables[S.droppableId],C=$r(j,S.scroll);return C}),o=T({},r.dimensions.droppables,{},yn(n)),a=wn(Di({additions:t.additions,updatedDroppables:o,viewport:r.viewport})),i=T({},r.dimensions.draggables,{},a);t.removals.forEach(function(S){delete i[S]});var l={droppables:o,draggables:i},c=Q(r.impact),u=c?l.droppables[c]:null,f=l.draggables[r.critical.draggable.id],d=l.droppables[r.critical.droppable.id],p=Ln({draggable:f,home:d,draggables:i,viewport:r.viewport}),g=p.impact,m=p.afterCritical,y=u&&u.isCombineEnabled?r.impact:g,N=On({pageOffset:r.current.page.offset,draggable:l.draggables[r.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:r.viewport,afterCritical:m}),w=T({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:N,onLiftImpact:g,dimensions:l,afterCritical:m,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return w;var D=T({phase:"DROP_PENDING"},w,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return D}),Br=function(r){return r.movementMode==="SNAP"},Cr=function(r,t,n){var o=wi(r.dimensions,t);return!Br(r)||n?Pe({state:r,dimensions:o}):kn({state:r,dimensions:o})};function Nr(e){return e.isDragging&&e.movementMode==="SNAP"?T({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Tt={phase:"IDLE",completed:null,shouldFlush:!1},Si=(function(e,r){if(e===void 0&&(e=Tt),r.type==="FLUSH")return T({},Tt,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&A();var t=r.payload,n=t.critical,o=t.clientSelection,a=t.viewport,i=t.dimensions,l=t.movementMode,c=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],f={selection:o,borderBoxCenter:c.client.borderBox.center,offset:_},d={client:f,page:{selection:z(f.selection,a.scroll.initial),borderBoxCenter:z(f.selection,a.scroll.initial),offset:z(f.selection,a.scroll.diff.value)}},p=nr(i.droppables).every(function(dr){return!dr.isFixedOnPage}),g=Ln({draggable:c,home:u,draggables:i.draggables,viewport:a}),m=g.impact,y=g.afterCritical,N={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:i,initial:d,current:d,isWindowScrollAllowed:p,impact:m,afterCritical:y,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return N}if(r.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&A();var w=T({phase:"COLLECTING"},e,{phase:"COLLECTING"});return w}if(r.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||A(),Ei({state:e,published:r.payload});if(r.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ve(e)||A();var D=r.payload.client;return ce(D,e.current.client.selection)?e:Pe({state:e,clientSelection:D,impact:Br(e)?e.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Nr(e);ve(e)||A();var S=r.payload,j=S.id,C=S.newScroll,h=e.dimensions.droppables[j];if(!h)return e;var x=$r(h,C);return Cr(e,x,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ve(e)||A();var v=r.payload,F=v.id,L=v.isEnabled,b=e.dimensions.droppables[F];b||A(),b.isEnabled===L&&A();var P=T({},b,{isEnabled:L});return Cr(e,P,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ve(e)||A();var E=r.payload,I=E.id,W=E.isCombineEnabled,H=e.dimensions.droppables[I];H||A(),H.isCombineEnabled===W&&A();var Y=T({},H,{isCombineEnabled:W});return Cr(e,Y,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ve(e)||A(),e.isWindowScrollAllowed||A();var ae=r.payload.newScroll;if(ce(e.viewport.scroll.current,ae))return Nr(e);var le=In(e.viewport,ae);return Br(e)?kn({state:e,viewport:le}):Pe({state:e,viewport:le})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ve(e))return e;var B=r.payload.maxScroll;if(ce(B,e.viewport.scroll.max))return e;var M=T({},e.viewport,{scroll:T({},e.viewport.scroll,{max:B})});return T({phase:"DRAGGING"},e,{viewport:M})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&A();var q=si({state:e,type:r.type});return q?Pe({state:e,impact:q.impact,clientSelection:q.clientSelection,scrollJumpRequest:q.scrollJumpRequest}):e}if(r.type==="DROP_PENDING"){var ie=r.payload.reason;e.phase!=="COLLECTING"&&A();var De=T({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:ie});return De}if(r.type==="DROP_ANIMATE"){var oe=r.payload,Ge=oe.completed,$e=oe.dropDuration,We=oe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||A();var ur={phase:"DROP_ANIMATING",completed:Ge,dropDuration:$e,newHomeClientOffset:We,dimensions:e.dimensions};return ur}if(r.type==="DROP_COMPLETE"){var me=r.payload.completed;return{phase:"IDLE",completed:me,shouldFlush:!1}}return e}),Ii=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},ji=function(r){return{type:"LIFT",payload:r}},Pi=function(r){return{type:"INITIAL_PUBLISH",payload:r}},Ai=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},Fi=function(){return{type:"COLLECTION_STARTING",payload:null}},Bi=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},Ri=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},Oi=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},Gn=function(r){return{type:"MOVE",payload:r}},Ti=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},Mi=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},ki=function(){return{type:"MOVE_UP",payload:null}},Li=function(){return{type:"MOVE_DOWN",payload:null}},Gi=function(){return{type:"MOVE_RIGHT",payload:null}},$i=function(){return{type:"MOVE_LEFT",payload:null}},Yr=function(){return{type:"FLUSH",payload:null}},Wi=function(r){return{type:"DROP_ANIMATE",payload:r}},Kr=function(r){return{type:"DROP_COMPLETE",payload:r}},$n=function(r){return{type:"DROP",payload:r}},Ui=function(r){return{type:"DROP_PENDING",payload:r}},Wn=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Hi=(function(e){return function(r){var t=r.getState,n=r.dispatch;return function(o){return function(a){if(a.type!=="LIFT"){o(a);return}var i=a.payload,l=i.id,c=i.clientSelection,u=i.movementMode,f=t();f.phase==="DROP_ANIMATING"&&n(Kr({completed:f.completed})),t().phase!=="IDLE"&&A(),n(Yr()),n(Ii({draggableId:l,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},p={draggableId:l,scrollOptions:d},g=e.startPublishing(p),m=g.critical,y=g.dimensions,N=g.viewport;n(Pi({critical:m,dimensions:y,clientSelection:c,movementMode:u,viewport:N}))}}}}),qi=(function(e){return function(){return function(r){return function(t){t.type==="INITIAL_PUBLISH"&&e.dragging(),t.type==="DROP_ANIMATE"&&e.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&e.resting(),r(t)}}}}),Jr={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Me={opacity:{drop:0,combining:.7},scale:{drop:.75}},Xr={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},fe=Xr.outOfTheWay+"s "+Jr.outOfTheWay,Ae={fluid:"opacity "+fe,snap:"transform "+fe+", opacity "+fe,drop:function(r){var t=r+"s "+Jr.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+fe,placeholder:"height "+fe+", width "+fe+", margin "+fe},Mt=function(r){return ce(r,_)?null:"translate("+r.x+"px, "+r.y+"px)"},Rr={moveTo:Mt,drop:function(r,t){var n=Mt(r);return n?t?n+" scale("+Me.scale.drop+")":n:null}},Or=Xr.minDropTime,Un=Xr.maxDropTime,Vi=Un-Or,kt=1500,_i=.6,zi=(function(e){var r=e.current,t=e.destination,n=e.reason,o=Re(r,t);if(o<=0)return Or;if(o>=kt)return Un;var a=o/kt,i=Or+Vi*a,l=n==="CANCEL"?i*_i:i;return Number(l.toFixed(2))}),Yi=(function(e){var r=e.impact,t=e.draggable,n=e.dimensions,o=e.viewport,a=e.afterCritical,i=n.draggables,l=n.droppables,c=Q(r),u=c?l[c]:null,f=l[t.descriptor.droppableId],d=Mn({impact:r,draggable:t,draggables:i,afterCritical:a,droppable:u||f,viewport:o}),p=X(d,t.client.borderBox.center);return p}),Ki=(function(e){var r=e.draggables,t=e.reason,n=e.lastImpact,o=e.home,a=e.viewport,i=e.onLiftImpact;if(!n.at||t!=="DROP"){var l=Tn({draggables:r,impact:i,destination:o,viewport:a,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=T({},n,{displaced:Oe});return{impact:c,didDropInsideDroppable:!0}}),Ji=(function(e){var r=e.getState,t=e.dispatch;return function(n){return function(o){if(o.type!=="DROP"){n(o);return}var a=r(),i=o.payload.reason;if(a.phase==="COLLECTING"){t(Ui({reason:i}));return}if(a.phase!=="IDLE"){var l=a.phase==="DROP_PENDING"&&a.isWaiting;l&&A(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||A();var c=a.critical,u=a.dimensions,f=u.draggables[a.critical.draggable.id],d=Ki({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),p=d.impact,g=d.didDropInsideDroppable,m=g?Ur(p):null,y=g?ar(p):null,N={index:c.draggable.index,droppableId:c.droppable.id},w={draggableId:f.descriptor.id,type:f.descriptor.type,source:N,reason:i,mode:a.movementMode,destination:m,combine:y},D=Yi({impact:p,draggable:f,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),S={critical:a.critical,afterCritical:a.afterCritical,result:w,impact:p},j=!ce(a.current.client.offset,D)||!!w.combine;if(!j){t(Kr({completed:S}));return}var C=zi({current:a.current.client.offset,destination:D,reason:i}),h={newHomeClientOffset:D,dropDuration:C,completed:S};t(Wi(h))}}}}),Hn=(function(){return{x:window.pageXOffset,y:window.pageYOffset}});function Xi(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}function Qi(e){var r=e.onWindowScroll;function t(){r(Hn())}var n=Be(t),o=Xi(n),a=se;function i(){return a!==se}function l(){i()&&A(),a=re(window,[o])}function c(){i()||A(),n.cancel(),a(),a=se}return{start:l,stop:c,isActive:i}}var Zi=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},el=(function(e){var r=Qi({onWindowScroll:function(n){e.dispatch(Ti({newScroll:n}))}});return function(t){return function(n){!r.isActive()&&n.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&Zi(n)&&r.stop(),t(n)}}}),rl=(function(e){var r=!1,t=!1,n=setTimeout(function(){t=!0}),o=function(i){r||t||(r=!0,e(i),clearTimeout(n))};return o.wasCalled=function(){return r},o}),tl=(function(){var e=[],r=function(a){var i=Wr(e,function(u){return u.timerId===a});i===-1&&A();var l=e.splice(i,1),c=l[0];c.callback()},t=function(a){var i=setTimeout(function(){return r(i)}),l={timerId:i,callback:a};e.push(l)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:t,flush:n}}),nl=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.droppableId===t.droppableId&&r.index===t.index},al=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.draggableId===t.draggableId&&r.droppableId===t.droppableId},ol=function(r,t){if(r===t)return!0;var n=r.draggable.id===t.draggable.id&&r.draggable.droppableId===t.draggable.droppableId&&r.draggable.type===t.draggable.type&&r.draggable.index===t.draggable.index,o=r.droppable.id===t.droppable.id&&r.droppable.type===t.droppable.type;return n&&o},Se=function(r,t){t()},He=function(r,t){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:t}},Dr=function(r,t,n,o){if(!r){n(o(t));return}var a=rl(n),i={announce:a};r(t,i),a.wasCalled()||n(o(t))},il=(function(e,r){var t=tl(),n=null,o=function(p,g){n&&A(),Se("onBeforeCapture",function(){var m=e().onBeforeCapture;if(m){var y={draggableId:p,mode:g};m(y)}})},a=function(p,g){n&&A(),Se("onBeforeDragStart",function(){var m=e().onBeforeDragStart;m&&m(He(p,g))})},i=function(p,g){n&&A();var m=He(p,g);n={mode:g,lastCritical:p,lastLocation:m.source,lastCombine:null},t.add(function(){Se("onDragStart",function(){return Dr(e().onDragStart,m,r,ze.onDragStart)})})},l=function(p,g){var m=Ur(g),y=ar(g);n||A();var N=!ol(p,n.lastCritical);N&&(n.lastCritical=p);var w=!nl(n.lastLocation,m);w&&(n.lastLocation=m);var D=!al(n.lastCombine,y);if(D&&(n.lastCombine=y),!(!N&&!w&&!D)){var S=T({},He(p,n.mode),{combine:y,destination:m});t.add(function(){Se("onDragUpdate",function(){return Dr(e().onDragUpdate,S,r,ze.onDragUpdate)})})}},c=function(){n||A(),t.flush()},u=function(p){n||A(),n=null,Se("onDragEnd",function(){return Dr(e().onDragEnd,p,r,ze.onDragEnd)})},f=function(){if(n){var p=T({},He(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:o,beforeStart:a,start:i,update:l,flush:c,drop:u,abort:f}}),ll=(function(e,r){var t=il(e,r);return function(n){return function(o){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var i=a.payload.critical;t.beforeStart(i,a.payload.movementMode),o(a),t.start(i,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var l=a.payload.completed.result;t.flush(),o(a),t.drop(l);return}if(o(a),a.type==="FLUSH"){t.abort();return}var c=n.getState();c.phase==="DRAGGING"&&t.update(c.critical,c.impact)}}}}),sl=(function(e){return function(r){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){r(t);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&A(),e.dispatch(Kr({completed:n.completed}))}}}),cl=(function(e){var r=null,t=null;function n(){t&&(cancelAnimationFrame(t),t=null),r&&(r(),r=null)}return function(o){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),o(a),a.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Wn())}};t=requestAnimationFrame(function(){t=null,r=re(window,[i])})}}}}),ul=(function(e){return function(){return function(r){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&e.stopPublishing(),r(t)}}}}),dl=(function(e){var r=!1;return function(){return function(t){return function(n){if(n.type==="INITIAL_PUBLISH"){r=!0,e.tryRecordFocus(n.payload.critical.draggable.id),t(n),e.tryRestoreFocusRecorded();return}if(t(n),!!r){if(n.type==="FLUSH"){r=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){r=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}),pl=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},fl=(function(e){return function(r){return function(t){return function(n){if(pl(n)){e.stop(),t(n);return}if(n.type==="INITIAL_PUBLISH"){t(n);var o=r.getState();o.phase!=="DRAGGING"&&A(),e.start(o);return}t(n),e.scroll(r.getState())}}}}),vl=(function(e){return function(r){return function(t){if(r(t),t.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch($n({reason:n.reason})))}}}}),gl=nn,ml=(function(e){var r=e.dimensionMarshal,t=e.focusMarshal,n=e.styleMarshal,o=e.getResponders,a=e.announce,i=e.autoScroller;return tn(Si,gl(ha(qi(n),ul(r),Hi(r),Ji,sl,cl,vl,fl(i),el,dl(t),ll(o,a))))}),Er=function(){return{additions:{},removals:{},modified:{}}};function bl(e){var r=e.registry,t=e.callbacks,n=Er(),o=null,a=function(){o||(t.collectionStarting(),o=requestAnimationFrame(function(){o=null;var f=n,d=f.additions,p=f.removals,g=f.modified,m=Object.keys(d).map(function(w){return r.draggable.getById(w).getDimension(_)}).sort(function(w,D){return w.descriptor.index-D.descriptor.index}),y=Object.keys(g).map(function(w){var D=r.droppable.getById(w),S=D.callbacks.getScrollWhileDragging();return{droppableId:w,scroll:S}}),N={additions:m,removals:Object.keys(p),modified:y};n=Er(),t.publish(N)}))},i=function(f){var d=f.descriptor.id;n.additions[d]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],a()},l=function(f){var d=f.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],a()},c=function(){o&&(cancelAnimationFrame(o),o=null,n=Er())};return{add:i,remove:l,stop:c}}var qn=(function(e){var r=e.scrollHeight,t=e.scrollWidth,n=e.height,o=e.width,a=X({x:t,y:r},{x:o,y:n}),i={x:Math.max(0,a.x),y:Math.max(0,a.y)};return i}),Vn=(function(){var e=document.documentElement;return e||A(),e}),_n=(function(){var e=Vn(),r=qn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return r}),hl=(function(){var e=Hn(),r=_n(),t=e.y,n=e.x,o=Vn(),a=o.clientWidth,i=o.clientHeight,l=n+a,c=t+i,u=ne({top:t,left:n,right:l,bottom:c}),f={frame:u,scroll:{initial:e,current:e,max:r,diff:{value:_,displacement:_}}};return f}),xl=(function(e){var r=e.critical,t=e.scrollOptions,n=e.registry,o=hl(),a=o.scroll.current,i=r.droppable,l=n.droppable.getAllByType(i.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(a,t)}),c=n.draggable.getAllByType(r.draggable.type).map(function(d){return d.getDimension(a)}),u={draggables:wn(c),droppables:yn(l)},f={dimensions:u,critical:r,viewport:o};return f});function Lt(e,r,t){if(t.descriptor.id===r.id||t.descriptor.type!==r.type)return!1;var n=e.droppable.getById(t.descriptor.droppableId);return n.descriptor.mode==="virtual"}var yl=(function(e,r){var t=null,n=bl({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:e}),o=function(g,m){e.droppable.exists(g)||A(),t&&r.updateDroppableIsEnabled({id:g,isEnabled:m})},a=function(g,m){t&&(e.droppable.exists(g)||A(),r.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:m}))},i=function(g,m){t&&(e.droppable.exists(g)||A(),r.updateDroppableScroll({id:g,newScroll:m}))},l=function(g,m){t&&e.droppable.getById(g).callbacks.scroll(m)},c=function(){if(t){n.stop();var g=t.critical.droppable;e.droppable.getAllByType(g.type).forEach(function(m){return m.callbacks.dragStopped()}),t.unsubscribe(),t=null}},u=function(g){t||A();var m=t.critical.draggable;g.type==="ADDITION"&&Lt(e,m,g.value)&&n.add(g.value),g.type==="REMOVAL"&&Lt(e,m,g.value)&&n.remove(g.value)},f=function(g){t&&A();var m=e.draggable.getById(g.draggableId),y=e.droppable.getById(m.descriptor.droppableId),N={draggable:m.descriptor,droppable:y.descriptor},w=e.subscribe(u);return t={critical:N,unsubscribe:w},xl({critical:N,registry:e,scrollOptions:g.scrollOptions})},d={updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:i,startPublishing:f,stopPublishing:c};return d}),zn=(function(e,r){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===r?!1:e.completed.result.reason==="DROP"}),wl=(function(e){window.scrollBy(e.x,e.y)}),Cl=V(function(e){return nr(e).filter(function(r){return!(!r.isEnabled||!r.frame)})}),Nl=function(r,t){var n=pe(Cl(t),function(o){return o.frame||A(),Fn(o.frame.pageMarginBox)(r)});return n},Dl=(function(e){var r=e.center,t=e.destination,n=e.droppables;if(t){var o=n[t];return o.frame?o:null}var a=Nl(r,n);return a}),ue={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},El=(function(e,r){var t=e[r.size]*ue.startFromPercentage,n=e[r.size]*ue.maxScrollAtPercentage,o={startScrollingFrom:t,maxScrollValueAt:n};return o}),Yn=(function(e){var r=e.startOfRange,t=e.endOfRange,n=e.current,o=t-r;if(o===0)return 0;var a=n-r,i=a/o;return i}),Qr=1,Sl=(function(e,r){if(e>r.startScrollingFrom)return 0;if(e<=r.maxScrollValueAt)return ue.maxPixelScroll;if(e===r.startScrollingFrom)return Qr;var t=Yn({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:e}),n=1-t,o=ue.maxPixelScroll*ue.ease(n);return Math.ceil(o)}),Gt=ue.durationDampening.accelerateAt,$t=ue.durationDampening.stopDampeningAt,Il=(function(e,r){var t=r,n=$t,o=Date.now(),a=o-t;if(a>=$t)return e;if(a<Gt)return Qr;var i=Yn({startOfRange:Gt,endOfRange:n,current:a}),l=e*ue.ease(i);return Math.ceil(l)}),Wt=(function(e){var r=e.distanceToEdge,t=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,a=Sl(r,t);return a===0?0:o?Math.max(Il(a,n),Qr):a}),Ut=(function(e){var r=e.container,t=e.distanceToEdges,n=e.dragStartTime,o=e.axis,a=e.shouldUseTimeDampening,i=El(r,o),l=t[o.end]<t[o.start];return l?Wt({distanceToEdge:t[o.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a}):-1*Wt({distanceToEdge:t[o.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a})}),jl=(function(e){var r=e.container,t=e.subject,n=e.proposedScroll,o=t.height>r.height,a=t.width>r.width;return!a&&!o?n:a&&o?null:{x:a?0:n.x,y:o?0:n.y}}),Pl=hn(function(e){return e===0?0:e}),Kn=(function(e){var r=e.dragStartTime,t=e.container,n=e.subject,o=e.center,a=e.shouldUseTimeDampening,i={top:o.y-t.top,right:t.right-o.x,bottom:t.bottom-o.y,left:o.x-t.left},l=Ut({container:t,distanceToEdges:i,dragStartTime:r,axis:Hr,shouldUseTimeDampening:a}),c=Ut({container:t,distanceToEdges:i,dragStartTime:r,axis:Dn,shouldUseTimeDampening:a}),u=Pl({x:c,y:l});if(ce(u,_))return null;var f=jl({container:t,subject:n,proposedScroll:u});return f?ce(f,_)?null:f:null}),Al=hn(function(e){return e===0?0:e>0?1:-1}),Zr=(function(){var e=function(t,n){return t<0?t:t>n?t-n:0};return function(r){var t=r.current,n=r.max,o=r.change,a=z(t,o),i={x:e(a.x,n.x),y:e(a.y,n.y)};return ce(i,_)?null:i}})(),Jn=function(r){var t=r.max,n=r.current,o=r.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=Al(o),l=Zr({max:a,current:n,change:i});return!l||i.x!==0&&l.x===0||i.y!==0&&l.y===0},et=function(r,t){return Jn({current:r.scroll.current,max:r.scroll.max,change:t})},Fl=function(r,t){if(!et(r,t))return null;var n=r.scroll.max,o=r.scroll.current;return Zr({current:o,max:n,change:t})},rt=function(r,t){var n=r.frame;return n?Jn({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Bl=function(r,t){var n=r.frame;return!n||!rt(r,t)?null:Zr({current:n.scroll.current,max:n.scroll.max,change:t})},Rl=(function(e){var r=e.viewport,t=e.subject,n=e.center,o=e.dragStartTime,a=e.shouldUseTimeDampening,i=Kn({dragStartTime:o,container:r.frame,subject:t,center:n,shouldUseTimeDampening:a});return i&&et(r,i)?i:null}),Ol=(function(e){var r=e.droppable,t=e.subject,n=e.center,o=e.dragStartTime,a=e.shouldUseTimeDampening,i=r.frame;if(!i)return null;var l=Kn({dragStartTime:o,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a});return l&&rt(r,l)?l:null}),Ht=(function(e){var r=e.state,t=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,a=e.scrollDroppable,i=r.current.page.borderBoxCenter,l=r.dimensions.draggables[r.critical.draggable.id],c=l.page.marginBox;if(r.isWindowScrollAllowed){var u=r.viewport,f=Rl({dragStartTime:t,viewport:u,subject:c,center:i,shouldUseTimeDampening:n});if(f){o(f);return}}var d=Dl({center:i,destination:Q(r.impact),droppables:r.dimensions.droppables});if(d){var p=Ol({dragStartTime:t,droppable:d,subject:c,center:i,shouldUseTimeDampening:n});p&&a(d.descriptor.id,p)}}),Tl=(function(e){var r=e.scrollWindow,t=e.scrollDroppable,n=Be(r),o=Be(t),a=null,i=function(f){a||A();var d=a,p=d.shouldUseTimeDampening,g=d.dragStartTime;Ht({state:f,scrollWindow:n,scrollDroppable:o,dragStartTime:g,shouldUseTimeDampening:p})},l=function(f){a&&A();var d=Date.now(),p=!1,g=function(){p=!0};Ht({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g}),a={dragStartTime:d,shouldUseTimeDampening:p},p&&i(f)},c=function(){a&&(n.cancel(),o.cancel(),a=null)};return{start:l,stop:c,scroll:i}}),Ml=(function(e){var r=e.move,t=e.scrollDroppable,n=e.scrollWindow,o=function(u,f){var d=z(u.current.client.selection,f);r({client:d})},a=function(u,f){if(!rt(u,f))return f;var d=Bl(u,f);if(!d)return t(u.descriptor.id,f),null;var p=X(f,d);t(u.descriptor.id,p);var g=X(f,p);return g},i=function(u,f,d){if(!u||!et(f,d))return d;var p=Fl(f,d);if(!p)return n(d),null;var g=X(d,p);n(g);var m=X(d,g);return m},l=function(u){var f=u.scrollJumpRequest;if(f){var d=Q(u.impact);d||A();var p=a(u.dimensions.droppables[d],f);if(p){var g=u.viewport,m=i(u.isWindowScrollAllowed,g,p);m&&o(u,m)}}};return l}),kl=(function(e){var r=e.scrollDroppable,t=e.scrollWindow,n=e.move,o=Tl({scrollWindow:t,scrollDroppable:r}),a=Ml({move:n,scrollWindow:t,scrollDroppable:r}),i=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&a(u)}},l={scroll:i,start:o.start,stop:o.stop};return l}),xe="data-rbd",ye=(function(){var e=xe+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}})(),Tr=(function(){var e=xe+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),Ll=(function(){var e=xe+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),qt={contextId:xe+"-scroll-container-context-id"},Gl=function(r){return function(t){return"["+t+'="'+r+'"]'}},Ie=function(r,t){return r.map(function(n){var o=n.styles[t];return o?n.selector+" { "+o+" }":""}).join(" ")},$l="pointer-events: none;",Wl=(function(e){var r=Gl(e),t=(function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(ye.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:$l,dropAnimating:l}}})(),n=(function(){var l=`
      transition: `+Ae.outOfTheWay+`;
    `;return{selector:r(Tr.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),o={selector:r(Ll.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,t,o,a];return{always:Ie(i,"always"),resting:Ie(i,"resting"),dragging:Ie(i,"dragging"),dropAnimating:Ie(i,"dropAnimating"),userCancel:Ie(i,"userCancel")}}),Z=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect,Sr=function(){var r=document.querySelector("head");return r||A(),r},Vt=function(r){var t=document.createElement("style");return r&&t.setAttribute("nonce",r),t.type="text/css",t};function Ul(e,r){var t=k(function(){return Wl(e)},[e]),n=R.useRef(null),o=R.useRef(null),a=O(V(function(d){var p=o.current;p||A(),p.textContent=d}),[]),i=O(function(d){var p=n.current;p||A(),p.textContent=d},[]);Z(function(){!n.current&&!o.current||A();var d=Vt(r),p=Vt(r);return n.current=d,o.current=p,d.setAttribute(xe+"-always",e),p.setAttribute(xe+"-dynamic",e),Sr().appendChild(d),Sr().appendChild(p),i(t.always),a(t.resting),function(){var g=function(y){var N=y.current;N||A(),Sr().removeChild(N),y.current=null};g(n),g(o)}},[r,i,a,t.always,t.resting,e]);var l=O(function(){return a(t.dragging)},[a,t.dragging]),c=O(function(d){if(d==="DROP"){a(t.dropAnimating);return}a(t.userCancel)},[a,t.dropAnimating,t.userCancel]),u=O(function(){o.current&&a(t.resting)},[a,t.resting]),f=k(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return f}var Xn=(function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window});function lr(e){return e instanceof Xn(e).HTMLElement}function Hl(e,r){var t="["+ye.contextId+'="'+e+'"]',n=xn(document.querySelectorAll(t));if(!n.length)return null;var o=pe(n,function(a){return a.getAttribute(ye.draggableId)===r});return!o||!lr(o)?null:o}function ql(e){var r=R.useRef({}),t=R.useRef(null),n=R.useRef(null),o=R.useRef(!1),a=O(function(p,g){var m={id:p,focus:g};return r.current[p]=m,function(){var N=r.current,w=N[p];w!==m&&delete N[p]}},[]),i=O(function(p){var g=Hl(e,p);g&&g!==document.activeElement&&g.focus()},[e]),l=O(function(p,g){t.current===p&&(t.current=g)},[]),c=O(function(){n.current||o.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=t.current;p&&i(p)}))},[i]),u=O(function(p){t.current=null;var g=document.activeElement;g&&g.getAttribute(ye.draggableId)===p&&(t.current=p)},[]);Z(function(){return o.current=!0,function(){o.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var f=k(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[a,u,c,l]);return f}function Vl(){var e={draggables:{},droppables:{}},r=[];function t(d){return r.push(d),function(){var g=r.indexOf(d);g!==-1&&r.splice(g,1)}}function n(d){r.length&&r.forEach(function(p){return p(d)})}function o(d){return e.draggables[d]||null}function a(d){var p=o(d);return p||A(),p}var i={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,g){var m=e.draggables[g.descriptor.id];m&&m.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var g=p.descriptor.id,m=o(g);m&&p.uniqueId===m.uniqueId&&(delete e.draggables[g],n({type:"REMOVAL",value:p}))},getById:a,findById:o,exists:function(p){return!!o(p)},getAllByType:function(p){return Ze(e.draggables).filter(function(g){return g.descriptor.type===p})}};function l(d){return e.droppables[d]||null}function c(d){var p=l(d);return p||A(),p}var u={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var g=l(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:c,findById:l,exists:function(p){return!!l(p)},getAllByType:function(p){return Ze(e.droppables).filter(function(g){return g.descriptor.type===p})}};function f(){e.draggables={},e.droppables={},r.length=0}return{draggable:i,droppable:u,subscribe:t,clean:f}}function _l(){var e=k(Vl,[]);return R.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var tt=U.createContext(null),rr=(function(){var e=document.body;return e||A(),e}),zl={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Yl=function(r){return"rbd-announcement-"+r};function Kl(e){var r=k(function(){return Yl(e)},[e]),t=R.useRef(null);R.useEffect(function(){var a=document.createElement("div");return t.current=a,a.id=r,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),T(a.style,zl),rr().appendChild(a),function(){setTimeout(function(){var c=rr();c.contains(a)&&c.removeChild(a),a===t.current&&(t.current=null)})}},[r]);var n=O(function(o){var a=t.current;if(a){a.textContent=o;return}},[]);return n}var Jl=0,Xl={separator:"::"};function nt(e,r){return r===void 0&&(r=Xl),k(function(){return""+e+r.separator+Jl++},[r.separator,e])}function Ql(e){var r=e.contextId,t=e.uniqueId;return"rbd-hidden-text-"+r+"-"+t}function Zl(e){var r=e.contextId,t=e.text,n=nt("hidden-text",{separator:"-"}),o=k(function(){return Ql({contextId:r,uniqueId:n})},[n,r]);return R.useEffect(function(){var i=document.createElement("div");return i.id=o,i.textContent=t,i.style.display="none",rr().appendChild(i),function(){var c=rr();c.contains(i)&&c.removeChild(i)}},[o,t]),o}var sr=U.createContext(null);function Qn(e){var r=R.useRef(e);return R.useEffect(function(){r.current=e}),r}function es(){var e=null;function r(){return!!e}function t(i){return i===e}function n(i){e&&A();var l={abandon:i};return e=l,l}function o(){e||A(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:r,isActive:t,claim:n,release:o,tryAbandon:a}}var rs=9,ts=13,at=27,Zn=32,ns=33,as=34,os=35,is=36,ls=37,ss=38,cs=39,us=40,qe,ds=(qe={},qe[ts]=!0,qe[rs]=!0,qe),ea=(function(e){ds[e.keyCode]&&e.preventDefault()}),cr=(function(){var e="visibilitychange";if(typeof document>"u")return e;var r=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],t=pe(r,function(n){return"on"+n in document});return t||e})(),ra=0,_t=5;function ps(e,r){return Math.abs(r.x-e.x)>=_t||Math.abs(r.y-e.y)>=_t}var zt={type:"IDLE"};function fs(e){var r=e.cancel,t=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(i){var l=i.button,c=i.clientX,u=i.clientY;if(l===ra){var f={x:c,y:u},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(f);return}d.type!=="PENDING"&&A();var p=d.point;if(ps(p,f)){i.preventDefault();var g=d.actions.fluidLift(f);o({type:"DRAGGING",actions:g})}}}},{eventName:"mouseup",fn:function(i){var l=n();if(l.type!=="DRAGGING"){r();return}i.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),r()}},{eventName:"keydown",fn:function(i){var l=n();if(l.type==="PENDING"){r();return}if(i.keyCode===at){i.preventDefault(),r();return}ea(i)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(i){var l=n();if(l.type==="IDLE"&&A(),l.actions.shouldRespectForcePress()){r();return}i.preventDefault()}},{eventName:cr,fn:r}]}function vs(e){var r=R.useRef(zt),t=R.useRef(se),n=k(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===ra&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var p=e.findClosestDraggableId(d);if(p){var g=e.tryGetLock(p,i,{sourceEvent:d});if(g){d.preventDefault();var m={x:d.clientX,y:d.clientY};t.current(),u(g,m)}}}}}},[e]),o=k(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var p=e.findClosestDraggableId(d);if(p){var g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&d.preventDefault())}}}}},[e]),a=O(function(){var d={passive:!1,capture:!0};t.current=re(window,[o,n],d)},[o,n]),i=O(function(){var f=r.current;f.type!=="IDLE"&&(r.current=zt,t.current(),a())},[a]),l=O(function(){var f=r.current;i(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[i]),c=O(function(){var d={capture:!0,passive:!1},p=fs({cancel:l,completed:i,getPhase:function(){return r.current},setPhase:function(m){r.current=m}});t.current=re(window,p,d)},[l,i]),u=O(function(d,p){r.current.type!=="IDLE"&&A(),r.current={type:"PENDING",point:p,actions:d},c()},[c]);Z(function(){return a(),function(){t.current()}},[a])}var be;function gs(){}var ms=(be={},be[as]=!0,be[ns]=!0,be[is]=!0,be[os]=!0,be);function bs(e,r){function t(){r(),e.cancel()}function n(){r(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===at){a.preventDefault(),t();return}if(a.keyCode===Zn){a.preventDefault(),n();return}if(a.keyCode===us){a.preventDefault(),e.moveDown();return}if(a.keyCode===ss){a.preventDefault(),e.moveUp();return}if(a.keyCode===cs){a.preventDefault(),e.moveRight();return}if(a.keyCode===ls){a.preventDefault(),e.moveLeft();return}if(ms[a.keyCode]){a.preventDefault();return}ea(a)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:cr,fn:t}]}function hs(e){var r=R.useRef(gs),t=k(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Zn)return;var i=e.findClosestDraggableId(a);if(!i)return;var l=e.tryGetLock(i,f,{sourceEvent:a});if(!l)return;a.preventDefault();var c=!0,u=l.snapLift();r.current();function f(){c||A(),c=!1,r.current(),n()}r.current=re(window,bs(u,f),{capture:!0,passive:!1})}}},[e]),n=O(function(){var a={passive:!1,capture:!0};r.current=re(window,[t],a)},[t]);Z(function(){return n(),function(){r.current()}},[n])}var Ir={type:"IDLE"},xs=120,ys=.15;function ws(e){var r=e.cancel,t=e.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(o){o.preventDefault()}},{eventName:"keydown",fn:function(o){if(t().type!=="DRAGGING"){r();return}o.keyCode===at&&o.preventDefault(),r()}},{eventName:cr,fn:r}]}function Cs(e){var r=e.cancel,t=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var i=n();if(i.type!=="DRAGGING"){r();return}i.hasMoved=!0;var l=a.touches[0],c=l.clientX,u=l.clientY,f={x:c,y:u};a.preventDefault(),i.actions.move(f)}},{eventName:"touchend",fn:function(a){var i=n();if(i.type!=="DRAGGING"){r();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){r();return}a.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(a){var i=n();i.type==="IDLE"&&A();var l=a.touches[0];if(l){var c=l.force>=ys;if(c){var u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&r();return}if(u){if(i.hasMoved){a.preventDefault();return}r();return}a.preventDefault()}}}},{eventName:cr,fn:r}]}function Ns(e){var r=R.useRef(Ir),t=R.useRef(se),n=O(function(){return r.current},[]),o=O(function(g){r.current=g},[]),a=k(function(){return{eventName:"touchstart",fn:function(g){if(!g.defaultPrevented){var m=e.findClosestDraggableId(g);if(m){var y=e.tryGetLock(m,l,{sourceEvent:g});if(y){var N=g.touches[0],w=N.clientX,D=N.clientY,S={x:w,y:D};t.current(),d(y,S)}}}}}},[e]),i=O(function(){var g={capture:!0,passive:!1};t.current=re(window,[a],g)},[a]),l=O(function(){var p=r.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),o(Ir),t.current(),i())},[i,o]),c=O(function(){var p=r.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=O(function(){var g={capture:!0,passive:!1},m={cancel:c,completed:l,getPhase:n},y=re(window,Cs(m),g),N=re(window,ws(m),g);t.current=function(){y(),N()}},[c,n,l]),f=O(function(){var g=n();g.type!=="PENDING"&&A();var m=g.actions.fluidLift(g.point);o({type:"DRAGGING",actions:m,hasMoved:!1})},[n,o]),d=O(function(g,m){n().type!=="IDLE"&&A();var y=setTimeout(f,xs);o({type:"PENDING",point:m,actions:g,longPressTimerId:y}),u()},[u,n,o,f]);Z(function(){return i(),function(){t.current();var m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),o(Ir))}},[n,i,o]),Z(function(){var g=re(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return g},[])}var Ds={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ta(e,r){if(r==null)return!1;var t=!!Ds[r.tagName.toLowerCase()];if(t)return!0;var n=r.getAttribute("contenteditable");return n==="true"||n===""?!0:r===e?!1:ta(e,r.parentElement)}function Es(e,r){var t=r.target;return lr(t)?ta(e,t):!1}var Ss=(function(e){return ne(e.getBoundingClientRect()).center});function Is(e){return e instanceof Xn(e).Element}var js=(function(){var e="matches";if(typeof document>"u")return e;var r=[e,"msMatchesSelector","webkitMatchesSelector"],t=pe(r,function(n){return n in Element.prototype});return t||e})();function na(e,r){return e==null?null:e[js](r)?e:na(e.parentElement,r)}function Ps(e,r){return e.closest?e.closest(r):na(e,r)}function As(e){return"["+ye.contextId+'="'+e+'"]'}function Fs(e,r){var t=r.target;if(!Is(t))return null;var n=As(e),o=Ps(t,n);return!o||!lr(o)?null:o}function Bs(e,r){var t=Fs(e,r);return t?t.getAttribute(ye.draggableId):null}function Rs(e,r){var t="["+Tr.contextId+'="'+e+'"]',n=xn(document.querySelectorAll(t)),o=pe(n,function(a){return a.getAttribute(Tr.id)===r});return!o||!lr(o)?null:o}function Os(e){e.preventDefault()}function Ve(e){var r=e.expected,t=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||r!==t)}function aa(e){var r=e.lockAPI,t=e.store,n=e.registry,o=e.draggableId;if(r.isClaimed())return!1;var a=n.draggable.findById(o);return!(!a||!a.options.isEnabled||!zn(t.getState(),o))}function Ts(e){var r=e.lockAPI,t=e.contextId,n=e.store,o=e.registry,a=e.draggableId,i=e.forceSensorStop,l=e.sourceEvent,c=aa({lockAPI:r,store:n,registry:o,draggableId:a});if(!c)return null;var u=o.draggable.getById(a),f=Rs(t,u.descriptor.id);if(!f||l&&!u.options.canDragInteractiveElements&&Es(f,l))return null;var d=r.claim(i||se),p="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function m(){return r.isActive(d)}function y(h,x){Ve({expected:h,phase:p,isLockActive:m,shouldWarn:!0})&&n.dispatch(x())}var N=y.bind(null,"DRAGGING");function w(h){function x(){r.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(x(),p!=="PRE_DRAG"&&A()),n.dispatch(ji(h.liftActionArgs)),p="DRAGGING";function v(F,L){if(L===void 0&&(L={shouldBlockNextClick:!1}),h.cleanup(),L.shouldBlockNextClick){var b=re(window,[{eventName:"click",fn:Os,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(b)}x(),n.dispatch($n({reason:F}))}return T({isActive:function(){return Ve({expected:"DRAGGING",phase:p,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:g,drop:function(L){return v("DROP",L)},cancel:function(L){return v("CANCEL",L)}},h.actions)}function D(h){var x=Be(function(F){N(function(){return Gn({client:F})})}),v=w({liftActionArgs:{id:a,clientSelection:h,movementMode:"FLUID"},cleanup:function(){return x.cancel()},actions:{move:x}});return T({},v,{move:x})}function S(){var h={moveUp:function(){return N(ki)},moveRight:function(){return N(Gi)},moveDown:function(){return N(Li)},moveLeft:function(){return N($i)}};return w({liftActionArgs:{id:a,clientSelection:Ss(f),movementMode:"SNAP"},cleanup:se,actions:h})}function j(){var h=Ve({expected:"PRE_DRAG",phase:p,isLockActive:m,shouldWarn:!0});h&&r.release()}var C={isActive:function(){return Ve({expected:"PRE_DRAG",phase:p,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:g,fluidLift:D,snapLift:S,abort:j};return C}var Ms=[vs,hs,Ns];function ks(e){var r=e.contextId,t=e.store,n=e.registry,o=e.customSensors,a=e.enableDefaultSensors,i=[].concat(a?Ms:[],o||[]),l=R.useState(function(){return es()})[0],c=O(function(D,S){D.isDragging&&!S.isDragging&&l.tryAbandon()},[l]);Z(function(){var D=t.getState(),S=t.subscribe(function(){var j=t.getState();c(D,j),D=j});return S},[l,t,c]),Z(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=O(function(w){return aa({lockAPI:l,registry:n,store:t,draggableId:w})},[l,n,t]),f=O(function(w,D,S){return Ts({lockAPI:l,registry:n,contextId:r,store:t,draggableId:w,forceSensorStop:D,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null})},[r,l,n,t]),d=O(function(w){return Bs(r,w)},[r]),p=O(function(w){var D=n.draggable.findById(w);return D?D.options:null},[n.draggable]),g=O(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Yr()))},[l,t]),m=O(l.isClaimed,[l]),y=k(function(){return{canGetLock:u,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:m}},[u,f,d,p,g,m]),N=0;N<i.length;N++)i[N](y)}var Ls=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function je(e){return e.current||A(),e.current}function Gs(e){var r=e.contextId,t=e.setCallbacks,n=e.sensors,o=e.nonce,a=e.dragHandleUsageInstructions,i=R.useRef(null),l=Qn(e),c=O(function(){return Ls(l.current)},[l]),u=Kl(r),f=Zl({contextId:r,text:a}),d=Ul(r,o),p=O(function(F){je(i).dispatch(F)},[]),g=k(function(){return vt({publishWhileDragging:Ai,updateDroppableScroll:Bi,updateDroppableIsEnabled:Ri,updateDroppableIsCombineEnabled:Oi,collectionStarting:Fi},p)},[p]),m=_l(),y=k(function(){return yl(m,g)},[m,g]),N=k(function(){return kl(T({scrollWindow:wl,scrollDroppable:y.scrollDroppable},vt({move:Gn},p)))},[y.scrollDroppable,p]),w=ql(r),D=k(function(){return ml({announce:u,autoScroller:N,dimensionMarshal:y,focusMarshal:w,getResponders:c,styleMarshal:d})},[u,N,y,w,c,d]);i.current=D;var S=O(function(){var F=je(i),L=F.getState();L.phase!=="IDLE"&&F.dispatch(Yr())},[]),j=O(function(){var F=je(i).getState();return F.isDragging||F.phase==="DROP_ANIMATING"},[]),C=k(function(){return{isDragging:j,tryAbort:S}},[j,S]);t(C);var h=O(function(F){return zn(je(i).getState(),F)},[]),x=O(function(){return ve(je(i).getState())},[]),v=k(function(){return{marshal:y,focus:w,contextId:r,canLift:h,isMovementAllowed:x,dragHandleUsageInstructionsId:f,registry:m}},[r,y,f,w,h,x,m]);return ks({contextId:r,store:D,registry:m,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),R.useEffect(function(){return S},[S]),U.createElement(sr.Provider,{value:v},U.createElement(Na,{context:tt,store:D},e.children))}var $s=0;function Ws(){return k(function(){return""+$s++},[])}function Us(e){var r=Ws(),t=e.dragHandleUsageInstructions||ze.dragHandleUsageInstructions;return U.createElement(ho,null,function(n){return U.createElement(Gs,{nonce:e.nonce,contextId:r,setCallbacks:n,dragHandleUsageInstructions:t,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var oa=function(r){return function(t){return r===t}},Hs=oa("scroll"),qs=oa("auto"),Yt=function(r,t){return t(r.overflowX)||t(r.overflowY)},Vs=function(r){var t=window.getComputedStyle(r),n={overflowX:t.overflowX,overflowY:t.overflowY};return Yt(n,Hs)||Yt(n,qs)},_s=function(){return!1},zs=function e(r){return r==null?null:r===document.body?_s()?r:null:r===document.documentElement?null:Vs(r)?r:e(r.parentElement)},Mr=(function(e){return{x:e.scrollLeft,y:e.scrollTop}}),Ys=function e(r){if(!r)return!1;var t=window.getComputedStyle(r);return t.position==="fixed"?!0:e(r.parentElement)},Ks=(function(e){var r=zs(e),t=Ys(e);return{closestScrollable:r,isFixedOnPage:t}}),Js=(function(e){var r=e.descriptor,t=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,a=e.direction,i=e.client,l=e.page,c=e.closest,u=(function(){if(!c)return null;var g=c.scrollSize,m=c.client,y=qn({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:m,scrollSize:g,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:y,diff:{value:_,displacement:_}}}})(),f=a==="vertical"?Hr:Dn,d=he({page:l,withPlaceholder:null,axis:f,frame:u}),p={descriptor:r,isCombineEnabled:n,isFixedOnPage:o,axis:f,isEnabled:t,client:i,page:l,frame:u,subject:d};return p}),Xs=function(r,t){var n=vn(r);if(!t||r!==t)return n;var o=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,i=o+t.scrollHeight,l=a+t.scrollWidth,c={top:o,right:l,bottom:i,left:a},u=Lr(c,n.border),f=Gr({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return f},Qs=(function(e){var r=e.ref,t=e.descriptor,n=e.env,o=e.windowScroll,a=e.direction,i=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,f=Xs(r,u),d=Je(f,o),p=(function(){if(!u)return null;var m=vn(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:m,page:Je(m,o),scroll:Mr(u),scrollSize:y,shouldClipSubject:c}})(),g=Js({descriptor:t,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:a,client:f,page:d,closest:p});return g}),Zs={passive:!1},ec={passive:!0},Kt=(function(e){return e.shouldPublishImmediately?Zs:ec});function tr(e){var r=R.useContext(e);return r||A(),r}var _e=function(r){return r&&r.env.closestScrollable||null};function rc(e){var r=R.useRef(null),t=tr(sr),n=nt("droppable"),o=t.registry,a=t.marshal,i=Qn(e),l=k(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=R.useRef(l),u=k(function(){return V(function(j,C){r.current||A();var h={x:j,y:C};a.updateDroppableScroll(l.id,h)})},[l.id,a]),f=O(function(){var j=r.current;return!j||!j.env.closestScrollable?_:Mr(j.env.closestScrollable)},[]),d=O(function(){var j=f();u(j.x,j.y)},[f,u]),p=k(function(){return Be(d)},[d]),g=O(function(){var j=r.current,C=_e(j);j&&C||A();var h=j.scrollOptions;if(h.shouldPublishImmediately){d();return}p()},[p,d]),m=O(function(j,C){r.current&&A();var h=i.current,x=h.getDroppableRef();x||A();var v=Ks(x),F={ref:x,descriptor:l,env:v,scrollOptions:C};r.current=F;var L=Qs({ref:x,descriptor:l,env:v,windowScroll:j,direction:h.direction,isDropDisabled:h.isDropDisabled,isCombineEnabled:h.isCombineEnabled,shouldClipSubject:!h.ignoreContainerClipping}),b=v.closestScrollable;return b&&(b.setAttribute(qt.contextId,t.contextId),b.addEventListener("scroll",g,Kt(F.scrollOptions))),L},[t.contextId,l,g,i]),y=O(function(){var j=r.current,C=_e(j);return j&&C||A(),Mr(C)},[]),N=O(function(){var j=r.current;j||A();var C=_e(j);r.current=null,C&&(p.cancel(),C.removeAttribute(qt.contextId),C.removeEventListener("scroll",g,Kt(j.scrollOptions)))},[g,p]),w=O(function(j){var C=r.current;C||A();var h=_e(C);h||A(),h.scrollTop+=j.y,h.scrollLeft+=j.x},[]),D=k(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:y,dragStopped:N,scroll:w}},[N,m,y,w]),S=k(function(){return{uniqueId:n,descriptor:l,callbacks:D}},[D,l,n]);Z(function(){return c.current=S.descriptor,o.droppable.register(S),function(){r.current&&N(),o.droppable.unregister(S)}},[D,l,N,S,a,o.droppable]),Z(function(){r.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Z(function(){r.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function jr(){}var Jt={width:0,height:0,margin:Do},tc=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,o=r.animate;return t||o==="close"?Jt:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},nc=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,o=r.animate,a=tc({isAnimatingOpenOnMount:t,placeholder:n,animate:o});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Ae.placeholder:null}};function ac(e){var r=R.useRef(null),t=O(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),n=e.animate,o=e.onTransitionEnd,a=e.onClose,i=e.contextId,l=R.useState(e.animate==="open"),c=l[0],u=l[1];R.useEffect(function(){return c?n!=="open"?(t(),u(!1),jr):r.current?jr:(r.current=setTimeout(function(){r.current=null,u(!1)}),t):jr},[n,c,t]);var f=O(function(p){p.propertyName==="height"&&(o(),n==="close"&&a())},[n,a,o]),d=nc({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return U.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":i,onTransitionEnd:f,ref:e.innerRef})}var oc=U.memo(ac),ot=U.createContext(null),ic=(function(e){rn(r,e);function r(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}r.getDerivedStateFromProps=function(o,a){return o.shouldAnimate?o.on?{isVisible:!0,data:o.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!o.on,data:o.on,animate:"none"}};var t=r.prototype;return t.render=function(){if(!this.state.isVisible)return null;var o={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(o)},r})(U.PureComponent),Xt={dragging:5e3,dropAnimating:4500},lc=function(r,t){return t?Ae.drop(t.duration):r?Ae.snap:Ae.fluid},sc=function(r,t){return r?t?Me.opacity.drop:Me.opacity.combining:null},cc=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function uc(e){var r=e.dimension,t=r.client,n=e.offset,o=e.combineWith,a=e.dropping,i=!!o,l=cc(e),c=!!a,u=c?Rr.drop(n,i):Rr.moveTo(n),f={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:lc(l,a),transform:u,opacity:sc(i,c),zIndex:c?Xt.dropAnimating:Xt.dragging,pointerEvents:"none"};return f}function dc(e){return{transform:Rr.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function pc(e){return e.type==="DRAGGING"?uc(e):dc(e)}function fc(e,r,t){t===void 0&&(t=_);var n=window.getComputedStyle(r),o=r.getBoundingClientRect(),a=fn(o,n),i=Je(a,t),l={client:a,tagName:r.tagName.toLowerCase(),display:n.display},c={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:a,page:i};return u}function vc(e){var r=nt("draggable"),t=e.descriptor,n=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,i=e.shouldRespectForcePress,l=e.isEnabled,c=k(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}},[a,l,i]),u=O(function(g){var m=o();return m||A(),fc(t,m,g)},[t,o]),f=k(function(){return{uniqueId:r,descriptor:t,options:c,getDimension:u}},[t,u,c,r]),d=R.useRef(f),p=R.useRef(!0);Z(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),Z(function(){if(p.current){p.current=!1;return}var g=d.current;d.current=f,n.draggable.update(f,g)},[f,n.draggable])}function gc(e){e.preventDefault()}function mc(e){var r=R.useRef(null),t=O(function(F){r.current=F},[]),n=O(function(){return r.current},[]),o=tr(sr),a=o.contextId,i=o.dragHandleUsageInstructionsId,l=o.registry,c=tr(ot),u=c.type,f=c.droppableId,d=k(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:f}},[e.draggableId,e.index,u,f]),p=e.children,g=e.draggableId,m=e.isEnabled,y=e.shouldRespectForcePress,N=e.canDragInteractiveElements,w=e.isClone,D=e.mapped,S=e.dropAnimationFinished;if(!w){var j=k(function(){return{descriptor:d,registry:l,getDraggableRef:n,canDragInteractiveElements:N,shouldRespectForcePress:y,isEnabled:m}},[d,l,n,N,y,m]);vc(j)}var C=k(function(){return m?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":g,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:gc}:null},[a,i,g,m]),h=O(function(F){D.type==="DRAGGING"&&D.dropping&&F.propertyName==="transform"&&S()},[S,D]),x=k(function(){var F=pc(D),L=D.type==="DRAGGING"&&D.dropping?h:null,b={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":g,style:F,onTransitionEnd:L},dragHandleProps:C};return b},[a,C,g,D,h,t]),v=k(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return p(x,D.snapshot,v)}var ia=(function(e,r){return e===r}),la=(function(e){var r=e.combine,t=e.destination;return t?t.droppableId:r?r.droppableId:null}),bc=function(r){return r.combine?r.combine.draggableId:null},hc=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function xc(){var e=V(function(o,a){return{x:o,y:a}}),r=V(function(o,a,i,l,c){return{isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:o,draggingOver:i,combineWith:l,combineTargetFor:null}}),t=V(function(o,a,i,l,c,u,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:o,dimension:i,forceShouldAnimate:f,snapshot:r(a,l,c,u,null)}}}),n=function(a,i){if(a.isDragging){if(a.critical.draggable.id!==i.draggableId)return null;var l=a.current.client.offset,c=a.dimensions.draggables[i.draggableId],u=Q(a.impact),f=hc(a.impact),d=a.forceShouldAnimate;return t(e(l.x,l.y),a.movementMode,c,i.isClone,u,f,d)}if(a.phase==="DROP_ANIMATING"){var p=a.completed;if(p.result.draggableId!==i.draggableId)return null;var g=i.isClone,m=a.dimensions.draggables[i.draggableId],y=p.result,N=y.mode,w=la(y),D=bc(y),S=a.dropDuration,j={duration:S,curve:Jr.drop,moveTo:a.newHomeClientOffset,opacity:D?Me.opacity.drop:null,scale:D?Me.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:m,dropping:j,draggingOver:w,combineWith:D,mode:N,forceShouldAnimate:null,snapshot:r(N,g,w,D,j)}}}return null};return n}function sa(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var yc={mapped:{type:"SECONDARY",offset:_,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:sa(null)}};function wc(){var e=V(function(i,l){return{x:i,y:l}}),r=V(sa),t=V(function(i,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:r(l)}}}),n=function(l){return l?t(_,l,!0):null},o=function(l,c,u,f){var d=u.displaced.visible[l],p=!!(f.inVirtualList&&f.effected[l]),g=ar(u),m=g&&g.draggableId===l?c:null;if(!d){if(!p)return n(m);if(u.displaced.invisible[l])return null;var y=we(f.displacedBy.point),N=e(y.x,y.y);return t(N,m,!0)}if(p)return n(m);var w=u.displacedBy.point,D=e(w.x,w.y);return t(D,m,d.shouldAnimate)},a=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:o(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:o(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var Cc=function(){var r=xc(),t=wc(),n=function(a,i){return r(a,i)||t(a,i)||yc};return n},Nc={dropAnimationFinished:Wn},Dc=un(Cc,Nc,null,{context:tt,pure:!0,areStatePropsEqual:ia})(mc);function ca(e){var r=tr(ot),t=r.isUsingCloneFor;return t===e.draggableId&&!e.isClone?null:U.createElement(Dc,e)}function Ec(e){var r=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,t=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return U.createElement(ca,T({},e,{isClone:!1,isEnabled:r,canDragInteractiveElements:t,shouldRespectForcePress:n}))}function Sc(e){var r=R.useContext(sr);r||A();var t=r.contextId,n=r.isMovementAllowed,o=R.useRef(null),a=R.useRef(null),i=e.children,l=e.droppableId,c=e.type,u=e.mode,f=e.direction,d=e.ignoreContainerClipping,p=e.isDropDisabled,g=e.isCombineEnabled,m=e.snapshot,y=e.useClone,N=e.updateViewportMaxScroll,w=e.getContainerForClone,D=O(function(){return o.current},[]),S=O(function(b){o.current=b},[]);O(function(){return a.current},[]);var j=O(function(b){a.current=b},[]),C=O(function(){n()&&N({maxScroll:_n()})},[n,N]);rc({droppableId:l,type:c,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:d,getDroppableRef:D});var h=U.createElement(ic,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(b){var P=b.onClose,E=b.data,I=b.animate;return U.createElement(oc,{placeholder:E,onClose:P,innerRef:j,animate:I,contextId:t,onTransitionEnd:C})}),x=k(function(){return{innerRef:S,placeholder:h,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":t}}},[t,l,h,S]),v=y?y.dragging.draggableId:null,F=k(function(){return{droppableId:l,type:c,isUsingCloneFor:v}},[l,v,c]);function L(){if(!y)return null;var b=y.dragging,P=y.render,E=U.createElement(ca,{draggableId:b.draggableId,index:b.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(I,W){return P(I,W,b)});return io.createPortal(E,w())}return U.createElement(ot.Provider,{value:F},i(x,m),L())}var Pr=function(r,t){return r===t.droppable.type},Qt=function(r,t){return t.draggables[r.draggable.id]},Ic=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=T({},r,{shouldAnimatePlaceholder:!1}),n=V(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),o=V(function(i,l,c,u,f,d){var p=f.descriptor.id,g=f.descriptor.droppableId===i;if(g){var m=d?{render:d,dragging:n(f.descriptor)}:null,y={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:m}}if(!l)return t;if(!u)return r;var N={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:N,useClone:null}}),a=function(l,c){var u=c.droppableId,f=c.type,d=!c.isDropDisabled,p=c.renderClone;if(l.isDragging){var g=l.critical;if(!Pr(f,g))return t;var m=Qt(g,l.dimensions),y=Q(l.impact)===u;return o(u,d,y,y,m,p)}if(l.phase==="DROP_ANIMATING"){var N=l.completed;if(!Pr(f,N.critical))return t;var w=Qt(N.critical,l.dimensions);return o(u,d,la(N.result)===u,Q(N.impact)===u,w,p)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var D=l.completed;if(!Pr(f,D.critical))return t;var S=Q(D.impact)===u,j=!!(D.impact.at&&D.impact.at.type==="COMBINE"),C=D.critical.droppable.id===u;return S?j?r:t:C?r:t}return t};return a},jc={updateViewportMaxScroll:Mi};function Pc(){return document.body||A(),document.body}var Ac={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Pc},ua=un(Ic,jc,null,{context:tt,pure:!0,areStatePropsEqual:ia})(Sc);ua.defaultProps=Ac;const Fc=({section:e,index:r,updateSection:t,removeImage:n,uploadImage:o,uploading:a})=>{const[i,l]=R.useState(e.columns||2),c=u=>{if(l(u),t(r,"columns",u),!e.items||e.items.length<u){const f=[...e.items||[]];for(;f.length<u;)f.push({content:"",type:"text"});t(r,"items",f)}};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Columns:"}),s.jsx("select",{value:i,onChange:u=>c(parseInt(u.target.value)),className:"px-3 py-1 border border-neutral-300 rounded text-sm",children:[1,2,3,4,5,6].map(u=>s.jsx("option",{value:u,children:u},u))}),s.jsx("label",{className:"text-sm font-medium ml-4",children:"Gap:"}),s.jsxs("select",{value:e.gap||"medium",onChange:u=>t(r,"gap",u.target.value),className:"px-3 py-1 border border-neutral-300 rounded text-sm",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]}),s.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${i}, 1fr)`},children:(e.items||[]).slice(0,i).map((u,f)=>s.jsxs("div",{className:"border-2 border-dashed border-neutral-300 p-3 rounded",children:[s.jsxs("label",{className:"text-xs text-neutral-500 mb-1 block",children:["Column ",f+1]}),s.jsxs("select",{value:u.type||"text",onChange:d=>{const p=[...e.items||[]];p[f]={...p[f],type:d.target.value,content:""},t(r,"items",p)},className:"w-full mb-2 px-2 py-1 border border-neutral-300 rounded text-xs",children:[s.jsx("option",{value:"text",children:"Text"}),s.jsx("option",{value:"image",children:"Image"}),s.jsx("option",{value:"html",children:"HTML"}),s.jsx("option",{value:"video",children:"Video"})]}),u.type==="text"&&s.jsx("textarea",{value:u.content||"",onChange:d=>{const p=[...e.items||[]];p[f]={...p[f],content:d.target.value},t(r,"items",p)},rows:3,className:"w-full px-2 py-1 border border-neutral-300 rounded text-sm",placeholder:"Enter text content"}),u.type==="image"&&s.jsxs("div",{className:"space-y-2",children:[u.image&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:u.image,alt:"",className:"w-full h-32 object-cover rounded"}),s.jsx("button",{onClick:()=>{const d=[...e.items||[]];d[f]={...d[f],image:""},t(r,"items",d)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]}),s.jsx("button",{onClick:async()=>{const d=`col-${f}`;try{const p=await o(r,d);if(p){const g=[...e.items||[]];g[f]={...g[f],image:p},t(r,"items",g)}}catch(p){console.error("Upload error:",p),alert("Failed to upload image")}},disabled:a[`${r}-col-${f}`],className:"w-full bg-primary text-white px-3 py-1 rounded text-xs hover:bg-primary-light disabled:opacity-50",children:a[`${r}-col-${f}`]?"Uploading...":"+ Upload Image"})]}),u.type==="html"&&s.jsx("textarea",{value:u.content||"",onChange:d=>{const p=[...e.items||[]];p[f]={...p[f],content:d.target.value},t(r,"items",p)},rows:4,className:"w-full px-2 py-1 border border-neutral-300 rounded text-sm font-mono text-xs",placeholder:"Enter HTML"}),u.type==="video"&&s.jsx("input",{type:"url",value:u.content||"",onChange:d=>{const p=[...e.items||[]];p[f]={...p[f],content:d.target.value},t(r,"items",p)},className:"w-full px-2 py-1 border border-neutral-300 rounded text-sm",placeholder:"Video embed URL"})]},f))})]})},Bc=({section:e,index:r,updateSection:t,removeImage:n,uploadImage:o,uploading:a})=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Direction:"}),s.jsxs("select",{value:e.direction||"row",onChange:i=>t(r,"direction",i.target.value),className:"px-3 py-1 border border-neutral-300 rounded text-sm",children:[s.jsx("option",{value:"row",children:"Horizontal"}),s.jsx("option",{value:"column",children:"Vertical"})]}),s.jsx("label",{className:"text-sm font-medium ml-4",children:"Align:"}),s.jsxs("select",{value:e.align||"start",onChange:i=>t(r,"align",i.target.value),className:"px-3 py-1 border border-neutral-300 rounded text-sm",children:[s.jsx("option",{value:"start",children:"Start"}),s.jsx("option",{value:"center",children:"Center"}),s.jsx("option",{value:"end",children:"End"}),s.jsx("option",{value:"stretch",children:"Stretch"})]}),s.jsx("label",{className:"text-sm font-medium ml-4",children:"Justify:"}),s.jsxs("select",{value:e.justify||"start",onChange:i=>t(r,"justify",i.target.value),className:"px-3 py-1 border border-neutral-300 rounded text-sm",children:[s.jsx("option",{value:"start",children:"Start"}),s.jsx("option",{value:"center",children:"Center"}),s.jsx("option",{value:"end",children:"End"}),s.jsx("option",{value:"between",children:"Space Between"}),s.jsx("option",{value:"around",children:"Space Around"})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[(e.items||[]).map((i,l)=>s.jsxs("div",{className:"border-2 border-dashed border-neutral-300 p-3 rounded flex-1 min-w-[200px]",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("label",{className:"text-xs text-neutral-500",children:["Item ",l+1]}),s.jsx("button",{onClick:()=>{const c=e.items.filter((u,f)=>f!==l);t(r,"items",c)},className:"text-red-500 text-xs",children:"Remove"})]}),s.jsxs("select",{value:i.type||"text",onChange:c=>{const u=[...e.items||[]];u[l]={...u[l],type:c.target.value,content:""},t(r,"items",u)},className:"w-full mb-2 px-2 py-1 border border-neutral-300 rounded text-xs",children:[s.jsx("option",{value:"text",children:"Text"}),s.jsx("option",{value:"image",children:"Image"}),s.jsx("option",{value:"html",children:"HTML"}),s.jsx("option",{value:"button",children:"Button"})]}),i.type==="text"&&s.jsx("textarea",{value:i.content||"",onChange:c=>{const u=[...e.items||[]];u[l]={...u[l],content:c.target.value},t(r,"items",u)},rows:2,className:"w-full px-2 py-1 border border-neutral-300 rounded text-sm"}),i.type==="image"&&s.jsxs("div",{className:"space-y-2",children:[i.image&&s.jsx("img",{src:i.image,alt:"",className:"w-full h-24 object-cover rounded"}),s.jsx("button",{onClick:async()=>{const c=`flex-${l}`;try{const u=await o(r,c);if(u){const f=[...e.items||[]];f[l]={...f[l],image:u},t(r,"items",f)}}catch(u){console.error("Upload error:",u),alert("Failed to upload image")}},disabled:a[`${r}-flex-${l}`],className:"w-full bg-primary text-white px-3 py-1 rounded text-xs hover:bg-primary-light disabled:opacity-50",children:a[`${r}-flex-${l}`]?"Uploading...":"Upload"})]}),i.type==="html"&&s.jsx("textarea",{value:i.content||"",onChange:c=>{const u=[...e.items||[]];u[l]={...u[l],content:c.target.value},t(r,"items",u)},rows:3,className:"w-full px-2 py-1 border border-neutral-300 rounded text-sm font-mono text-xs"}),i.type==="button"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:i.buttonText||"",onChange:c=>{const u=[...e.items||[]];u[l]={...u[l],buttonText:c.target.value},t(r,"items",u)},className:"w-full px-2 py-1 border border-neutral-300 rounded text-sm",placeholder:"Button Text"}),s.jsx("input",{type:"url",value:i.buttonLink||"",onChange:c=>{const u=[...e.items||[]];u[l]={...u[l],buttonLink:c.target.value},t(r,"items",u)},className:"w-full px-2 py-1 border border-neutral-300 rounded text-sm",placeholder:"Button Link"})]})]},l)),s.jsx("button",{onClick:()=>{const i=[...e.items||[],{type:"text",content:""}];t(r,"items",i)},className:"border-2 border-dashed border-neutral-300 p-3 rounded text-neutral-500 hover:border-primary hover:text-primary text-sm",children:"+ Add Item"})]})]}),Rc=({section:e,index:r,updateSection:t})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Height (px):"}),s.jsx("input",{type:"number",value:e.height||50,onChange:n=>t(r,"height",parseInt(n.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg",min:"0",max:"500"})]}),Oc=({section:e,index:r,updateSection:t})=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium block mb-1",children:"Max Width:"}),s.jsxs("select",{value:e.maxWidth||"full",onChange:n=>t(r,"maxWidth",n.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg text-sm",children:[s.jsx("option",{value:"full",children:"Full Width"}),s.jsx("option",{value:"7xl",children:"7xl (1280px)"}),s.jsx("option",{value:"6xl",children:"6xl (1152px)"}),s.jsx("option",{value:"5xl",children:"5xl (1024px)"}),s.jsx("option",{value:"4xl",children:"4xl (896px)"}),s.jsx("option",{value:"3xl",children:"3xl (768px)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium block mb-1",children:"Padding:"}),s.jsxs("select",{value:e.padding||"medium",onChange:n=>t(r,"padding",n.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg text-sm",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium block mb-1",children:"Background Color:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:e.backgroundColor||"#FFFFFF",onChange:n=>t(r,"backgroundColor",n.target.value),className:"w-16 h-10"}),s.jsx("input",{type:"text",value:e.backgroundColor||"#FFFFFF",onChange:n=>t(r,"backgroundColor",n.target.value),className:"flex-1 px-3 py-2 border border-neutral-300 rounded-lg text-sm font-mono",placeholder:"#FFFFFF"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium block mb-1",children:"Content (HTML):"}),s.jsx("textarea",{value:e.content||"",onChange:n=>t(r,"content",n.target.value),rows:6,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg text-sm font-mono",placeholder:"Enter HTML content for this container"})]})]}),Tc=({initialLayout:e=[],onSave:r,productSlug:t,productData:n={}})=>{const[o,a]=R.useState(e),[i,l]=R.useState(!0),[c,u]=R.useState("desktop"),[f,d]=R.useState({}),p=[{value:"grid",label:"Grid",icon:"",category:"layout"},{value:"flex",label:"Flex/Row",icon:"",category:"layout"},{value:"container",label:"Container",icon:"",category:"layout"},{value:"spacer",label:"Spacer",icon:"",category:"layout"},{value:"hero",label:"Hero Section",icon:"",category:"content"},{value:"rich_text",label:"Rich Text",icon:"",category:"content"},{value:"image_gallery",label:"Image Gallery",icon:"",category:"content"},{value:"banner",label:"Banner",icon:"",category:"content"},{value:"benefits",label:"Benefits/Features",icon:"",category:"content"},{value:"pricing",label:"Pricing & Offer",icon:"",category:"content"},{value:"steps",label:"Steps/Instructions",icon:"",category:"content"},{value:"faq",label:"FAQs",icon:"",category:"content"},{value:"testimonials",label:"Testimonials",icon:"",category:"content"},{value:"video",label:"Video Embed",icon:"",category:"content"},{value:"specifications",label:"Specifications",icon:"",category:"content"},{value:"comparison",label:"Product Comparison",icon:"",category:"content"},{value:"call_to_action",label:"Call to Action",icon:"",category:"content"},{value:"order_form",label:"Order Form",icon:"",category:"content"},{value:"social_links",label:"Social Links",icon:"",category:"content"},{value:"contact_info",label:"Contact Info",icon:"",category:"content"},{value:"tabs",label:"Tabs",icon:"",category:"content"}],g=h=>{const x={type:h,title:"",content:["rich_text","container","hero","contact_info"].includes(h)?"":null,subtitle:h==="hero"?"":null,images:["image_gallery","banner","hero"].includes(h)?[]:null,items:["faq","testimonials","specifications","comparison","tabs","grid","flex","benefits","steps","social_links"].includes(h)?[]:null,url:h==="video"?"":null,button_text:["call_to_action","hero"].includes(h)?"Order Now":null,button_link:["call_to_action","hero"].includes(h)?"#":null,button_bg_color:["call_to_action","hero"].includes(h)?"#2563EB":null,button_text_color:["call_to_action","hero"].includes(h)?"#FFFFFF":null,background_color:["banner","call_to_action","hero"].includes(h)?"#4F46E5":null,background_image:["banner","call_to_action","hero"].includes(h)?"":null,text_color:["banner","call_to_action","hero"].includes(h)?"#FFFFFF":null,original_price:h==="pricing"?"":null,offer_price:h==="pricing"?"":null,discount_text:h==="pricing"?"":null,countdown_date:h==="pricing"?"":null,phone:h==="contact_info"?"":null,email:h==="contact_info"?"":null,address:h==="contact_info"?"":null,columns:h==="grid"?2:null,gap:h==="grid"?"medium":null,direction:h==="flex"?"row":null,align:h==="flex"?"start":null,justify:h==="flex"?"start":null,height:h==="spacer"?50:null,maxWidth:h==="container"?"full":null,padding:h==="container"?"medium":null,backgroundColor:h==="container"?"#FFFFFF":null};a([...o,x])},m=(h,x,v)=>{const F=[...o];F[h]={...F[h],[x]:v},a(F)},y=h=>{a(o.filter((x,v)=>v!==h))},N=h=>{if(!h.destination)return;const x=Array.from(o),[v]=x.splice(h.source.index,1);x.splice(h.destination.index,0,v),a(x)},w=()=>{r&&r(o)},D=()=>{if(!confirm("This will replace your current layout with a Tinibee-style template. Continue?"))return;const h=[{type:"hero",title:n.name||"Product Name",subtitle:n.shortDescription||n.description?.substring(0,200)||"Amazing product that will change your life",images:n.images&&n.images.length>0?[n.images[0]]:[],button_text:" ",button_link:"#order",background_color:"#FFFFFF",text_color:"#1F2937"},{type:"call_to_action",title:"",content:"",button_text:" ",button_link:"#order",background_color:"#10B981",text_color:"#FFFFFF"},{type:"benefits",title:"Product Benefits",items:[{title:"1. Premium Quality",description:"Made with the finest materials and craftsmanship"},{title:"2. Fast Delivery",description:"Quick and reliable shipping to your doorstep"},{title:"3. Money Back Guarantee",description:"30-day money-back guarantee if not satisfied"},{title:"4. 24/7 Support",description:"Round-the-clock customer support available"},{title:"5. Easy to Use",description:"Simple and intuitive design for everyone"},{title:"6. Best Value",description:"Great quality at an affordable price"},{title:"7. Safe & Tested",description:"Certified safe for use, lab tested"}]},{type:"call_to_action",title:"",content:"",button_text:" ",button_link:"#order",background_color:"#10B981",text_color:"#FFFFFF"},{type:"steps",title:"How to Use",items:[{title:"Step 1",description:"Take 5-6 drops of oil in your hand"},{title:"Step 2",description:"Massage on chest, back, and feet"},{title:"Step 3",description:"Use 2-3 times daily for 5-10 minutes"}]},{type:"call_to_action",title:"",content:"",button_text:" ",button_link:"#order",background_color:"#10B981",text_color:"#FFFFFF"},{type:"contact_info",title:"Contact Customer Support",phone:"+880 1805-417192",email:"",address:""},{type:"testimonials",title:"Customer Reviews",items:[{text:"This product exceeded my expectations! Highly recommended.",author:"Sarah Ahmed"},{text:"Great quality and fast delivery. Very satisfied with my purchase.",author:"Mohammad Rahman"},{text:"Best product I've bought this year. Worth every penny!",author:"Fatima Khan"}]},{type:"call_to_action",title:"Listen to why thousands of mothers are choosing this product",content:"",button_text:" ",button_link:"#order",background_color:"#4F46E5",text_color:"#FFFFFF"},{type:"pricing",title:"",original_price:n.comparePrice?`${parseFloat(n.comparePrice).toFixed(2)}`:"1290.00",offer_price:n.price?`${parseFloat(n.price).toFixed(2)}`:"890.00",discount_text:n.comparePrice?`Save ${(parseFloat(n.comparePrice)-parseFloat(n.price||0)).toFixed(2)}`:"Save 400",countdown_date:new Date(Date.now()+10080*60*1e3).toISOString().slice(0,16)},{type:"rich_text",title:"",content:'<div class="text-center py-4"><p class="text-lg font-semibold">Order 2 items and get them for only 1650</p><p class="text-sm text-gray-600">Free home delivery on orders today!</p></div>'},{type:"rich_text",title:"",content:'<div class="text-center py-6 bg-green-50 rounded-lg"><p class="text-lg font-bold text-green-800">Lab Tested by BCSIR</p><p class="text-sm text-green-700">100% safe for use, certified quality</p></div>'},{type:"call_to_action",title:"",content:"",button_text:" ",button_link:"#order",background_color:"#10B981",text_color:"#FFFFFF"},...n.images&&n.images.length>0?[{type:"image_gallery",title:"Product Images",images:n.images}]:[],{type:"call_to_action",title:"Place Your Order",content:"Fill in your name, full address, and mobile number below, then click Confirm Order",button_text:"Confirm Order",button_link:"#order",background_color:"#FFFFFF",text_color:"#1F2937"},{type:"social_links",title:"Stay Connected",items:[{platform:"Facebook",url:"https://facebook.com/yourpage"},{platform:"WhatsApp",url:"https://wa.me/8801805417192"},{platform:"YouTube",url:"https://youtube.com/yourchannel"},{platform:"Instagram",url:"https://instagram.com/yourpage"}]},{type:"contact_info",title:"Contact Customer Support",phone:"+880 1805-417192",email:"",address:""}];a(h)},S=async(h,x)=>new Promise(v=>{const F=document.createElement("input");F.type="file",F.accept="image/*",F.onchange=async L=>{const b=L.target.files[0];if(!b){v(null);return}const P=`${h}-${x||"new"}`;d(I=>({...I,[P]:!0}));const E=new FormData;E.append("image",b);try{const I=document.querySelector('meta[name="csrf-token"]')?.content;if(!I){alert("CSRF token not found. Please refresh the page."),v(null),d(Y=>({...Y,[P]:!1}));return}const W=await fetch("/admin/upload-image",{method:"POST",headers:{"X-CSRF-TOKEN":I,Accept:"application/json"},body:E});if(!W.ok){const Y=await W.text();console.error("Upload failed:",Y),alert("Failed to upload image. Please try again."),v(null);return}const H=await W.json();H.success&&H.url?v(H.url):(alert(H.message||"Failed to upload image"),v(null))}catch(I){console.error("Upload error:",I),alert("Error uploading image: "+I.message),v(null)}finally{d(I=>({...I,[P]:!1}))}},F.click()}),j=(h,x)=>{const v=[...o];v[h].images.splice(x,1),a(v)};R.useEffect(()=>{const h=setTimeout(()=>{r&&o.length>0},3e3);return()=>clearTimeout(h)},[o]);const C=()=>{const h={mobile:{width:"375px",maxWidth:"100%"},tablet:{width:"768px",maxWidth:"100%"},desktop:{width:"100%"}},x=h[c]||h.desktop;return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-center gap-1 bg-white border border-[#E1E3E5] rounded-lg p-1 inline-flex shadow-sm",children:[s.jsx("button",{onClick:()=>u("mobile"),className:`px-3 py-1.5 rounded text-xs font-medium transition ${c==="mobile"?"bg-[#008060] text-white":"text-[#637381] hover:text-[#202223] hover:bg-[#F6F6F7]"}`,title:"Mobile (375px)",children:"Mobile"}),s.jsx("button",{onClick:()=>u("tablet"),className:`px-3 py-1.5 rounded text-xs font-medium transition ${c==="tablet"?"bg-[#008060] text-white":"text-[#637381] hover:text-[#202223] hover:bg-[#F6F6F7]"}`,title:"Tablet (768px)",children:"Tablet"}),s.jsx("button",{onClick:()=>u("desktop"),className:`px-3 py-1.5 rounded text-xs font-medium transition ${c==="desktop"?"bg-[#008060] text-white":"text-[#637381] hover:text-[#202223] hover:bg-[#F6F6F7]"}`,title:"Desktop (Full Width)",children:"Desktop"})]}),s.jsx("div",{className:"flex justify-center",style:{backgroundColor:c!=="desktop"?"#E1E3E5":"transparent",padding:c!=="desktop"?"2rem":"0",minHeight:c==="mobile"?"667px":c==="tablet"?"1024px":"auto"},children:s.jsx("div",{className:"bg-white shadow-lg rounded overflow-hidden transition-all duration-200 border border-[#E1E3E5]",style:x,children:s.jsx("div",{className:"space-y-6 p-4",style:{minHeight:c==="mobile"?"600px":"auto"},children:o.map((v,F)=>{switch(v.type){case"rich_text":return s.jsx("section",{className:"theme-section",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"prose max-w-none font-bangla text-lg",style:{lineHeight:"1.8"},dangerouslySetInnerHTML:{__html:v.content||""}})]})},F);case"image_gallery":return s.jsx("section",{className:"theme-section",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(v.images||[]).map((B,M)=>s.jsx("div",{className:"theme-card",children:s.jsx("img",{src:B,alt:v.title||"Gallery",className:"w-full h-auto rounded-lg"})},M))})]})},F);case"banner":const L={backgroundImage:v.background_image?`url(${v.background_image})`:void 0,backgroundColor:v.background_image?void 0:v.background_color||"var(--color-primary)",backgroundSize:v.background_image?"cover":void 0,backgroundPosition:v.background_image?"center":void 0,color:v.text_color||"#FFFFFF"};return s.jsx("div",{className:"my-8 theme-card overflow-hidden",style:L,children:s.jsxs("div",{className:"p-8 md:p-12 text-center",children:[v.title&&s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 font-bangla",children:v.title}),v.content&&s.jsx("p",{className:"text-lg mb-6 font-bangla",children:v.content}),v.images&&v.images[0]&&s.jsx("img",{src:v.images[0],alt:v.title,className:"mx-auto max-w-full rounded-lg shadow-lg"})]})},F);case"faq":return s.jsx("div",{className:"theme-section",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"space-y-4",children:(v.items||[]).map((B,M)=>s.jsxs("div",{className:"theme-card border-l-4",style:{borderLeftColor:"var(--color-primary)"},children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 font-bangla",children:B.question}),s.jsx("p",{className:"text-gray-700 font-bangla",children:B.answer})]},M))})]})},F);case"testimonials":return s.jsx("section",{className:"theme-section bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(v.items||[]).map((B,M)=>s.jsxs("div",{className:"theme-card border-l-4",style:{borderLeftColor:"var(--color-accent)"},children:[s.jsxs("p",{className:"text-gray-700 mb-4 text-lg font-bangla",style:{lineHeight:"1.8"},children:['"',B.text,'"']}),s.jsxs("p",{className:"font-semibold font-bangla",style:{color:"var(--color-accent)"},children:["- ",B.author]})]},M))})]})},F);case"video":return s.jsx("div",{className:"theme-section",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden shadow-lg",children:s.jsx("iframe",{src:v.url,className:"w-full h-full",allowFullScreen:!0,title:v.title||"Video"})})]})},F);case"specifications":return s.jsx("div",{className:"theme-section",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"theme-card overflow-hidden",children:s.jsx("table",{className:"w-full",children:s.jsx("tbody",{children:(v.items||[]).map((B,M)=>s.jsxs("tr",{className:"border-b last:border-b-0",children:[s.jsx("td",{className:"px-6 py-4 font-semibold bg-gray-50 w-1/3 font-bangla",children:B.label}),s.jsx("td",{className:"px-6 py-4 font-bangla",children:B.value})]},M))})})})]})},F);case"hero":const b={backgroundImage:v.background_image?`url(${v.background_image})`:void 0,backgroundColor:v.background_image?void 0:v.background_color||"var(--color-background)",backgroundSize:v.background_image?"cover":void 0,backgroundPosition:v.background_image?"center":void 0,color:v.text_color||"var(--color-text)"};return s.jsx("section",{className:"theme-section",style:b,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16",children:s.jsxs("div",{className:"text-center",children:[v.title&&s.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-6 font-bangla",style:{lineHeight:"1.2"},children:v.title}),v.subtitle&&s.jsx("p",{className:"text-lg md:text-xl mb-8 font-bangla max-w-3xl mx-auto",style:{lineHeight:"1.6"},children:v.subtitle}),v.images&&v.images[0]&&s.jsx("div",{className:"mb-8",children:s.jsx("img",{src:v.images[0],alt:v.title,className:"mx-auto max-w-full rounded-lg shadow-xl"})}),v.button_text&&s.jsx("a",{href:v.button_link||"#",className:"font-bangla text-lg md:text-xl px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition transform hover:scale-105",style:{backgroundColor:v.button_bg_color||"var(--color-primary)",color:v.button_text_color||"#FFFFFF"},children:v.button_text})]})})},F);case"benefits":return s.jsx("section",{className:"theme-section",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"space-y-4",children:(v.items||[]).map((B,M)=>s.jsxs("div",{className:"theme-card border-l-4 hover:bg-gray-50 transition",style:{borderLeftColor:"var(--color-accent)"},children:[B.title&&s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2 font-bangla text-gray-800",children:B.title}),B.description&&s.jsx("p",{className:"text-gray-700 text-lg font-bangla",style:{lineHeight:"1.8"},children:B.description})]},M))})]})},F);case"pricing":return s.jsx("section",{className:"theme-section bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsxs("div",{className:"theme-card text-center",children:[v.original_price&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-lg text-gray-500 mb-2 font-bangla",children:"Previous Price"}),s.jsx("span",{className:"text-2xl text-gray-500 line-through font-bangla",children:v.original_price})]}),v.offer_price&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-lg text-gray-700 mb-2 font-bangla",children:"Offer Price"}),s.jsx("span",{className:"text-5xl font-bold font-bangla",style:{color:"var(--color-error)"},children:v.offer_price})]}),v.discount_text&&s.jsx("p",{className:"text-center font-bold text-xl mb-6 font-bangla",style:{color:"var(--color-accent)"},children:v.discount_text}),v.countdown_date&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3 font-bangla",children:"   :"}),s.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 rounded-full bg-red-50 border border-red-200 shadow-sm",children:s.jsx("span",{className:"font-mono text-xl md:text-2xl tracking-widest font-bold font-bangla text-red-600",children:new Date(v.countdown_date).toLocaleDateString()})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 font-bangla",children:"      "})]})]})]})},F);case"steps":return s.jsx("section",{className:"theme-section",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"space-y-6",children:(v.items||[]).map((B,M)=>s.jsx("div",{className:"theme-card border-l-4",style:{borderLeftColor:"var(--color-accent)"},children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl text-white",style:{backgroundColor:"var(--color-accent)"},children:M+1}),s.jsxs("div",{className:"flex-1",children:[B.title&&s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2 font-bangla text-gray-800",children:B.title}),B.description&&s.jsx("p",{className:"text-gray-700 text-lg font-bangla",style:{lineHeight:"1.8"},children:B.description})]})]})},M))})]})},F);case"social_links":return s.jsx("section",{className:"theme-section bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:(v.items||[]).map((B,M)=>{const ie={Facebook:"#1877F2",WhatsApp:"#25D366",YouTube:"#FF0000",Instagram:"linear-gradient(to right, #833AB4, #FD1D1D, #FCB045)"}[B.platform]||"var(--color-primary)",oe={Facebook:"fab fa-facebook-f",WhatsApp:"fab fa-whatsapp",YouTube:"fab fa-youtube",Instagram:"fab fa-instagram"}[B.platform]||"fas fa-link";return s.jsxs("a",{href:B.url||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 text-white rounded-lg transition shadow-md hover:shadow-lg font-bangla font-semibold",style:{background:ie},children:[s.jsx("i",{className:oe}),s.jsx("span",{children:B.platform||"Link"})]},M)})})]})},F);case"contact_info":return s.jsx("section",{className:"theme-section",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsxs("div",{className:"theme-card",children:[v.phone&&s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx("i",{className:"fas fa-phone text-xl",style:{color:"var(--color-accent)"}}),s.jsx("a",{href:`tel:${v.phone}`,className:"text-xl font-bold font-bangla hover:underline",style:{color:"var(--color-accent)"},children:v.phone})]}),v.email&&s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx("i",{className:"fas fa-envelope text-xl",style:{color:"var(--color-accent)"}}),s.jsx("a",{href:`mailto:${v.email}`,className:"text-lg font-bangla hover:underline",style:{color:"var(--color-accent)"},children:v.email})]}),v.address&&s.jsxs("div",{className:"flex items-start justify-center gap-3",children:[s.jsx("i",{className:"fas fa-map-marker-alt text-xl mt-1",style:{color:"var(--color-accent)"}}),s.jsx("p",{className:"text-gray-700 text-lg font-bangla",children:v.address})]}),v.content&&s.jsx("div",{className:"mt-4 font-bangla text-lg",dangerouslySetInnerHTML:{__html:v.content}})]})]})},F);case"order_form":return s.jsxs("div",{className:"w-full py-8 theme-section",children:[(v.title||v.content)&&s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mb-8 text-center",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),v.content&&s.jsx("p",{className:"text-lg font-bangla",style:{lineHeight:"1.8"},children:v.content})]}),s.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 font-bangla",children:" "}),s.jsx("p",{className:"text-gray-600 text-center font-bangla mb-4",children:"Order form will appear here on the actual page"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-10 bg-gray-200 rounded"}),s.jsx("div",{className:"h-10 bg-gray-200 rounded"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded"})]})})]})})]},F);case"call_to_action":const P={backgroundImage:v.background_image?`url(${v.background_image})`:void 0,backgroundColor:v.background_image?void 0:v.background_color||"var(--color-primary)",backgroundSize:v.background_image?"cover":void 0,backgroundPosition:v.background_image?"center":void 0,color:v.text_color||"#FFFFFF"};return s.jsx("section",{className:"theme-section",style:P,children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[v.title&&s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4 font-bangla",children:v.title}),v.content&&s.jsx("p",{className:"text-lg mb-6 font-bangla",style:{lineHeight:"1.8"},children:v.content}),v.button_text&&s.jsx("a",{href:v.button_link||"#",className:"btn-primary font-bangla text-lg px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition transform hover:scale-105",style:{backgroundColor:v.button_color||"white",color:v.background_color||"var(--color-primary)"},children:v.button_text})]})},F);case"comparison":return s.jsx("div",{className:"theme-section",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"theme-card overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{style:{backgroundColor:"var(--color-primary)",color:"white"},children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left font-bangla",children:"Feature"}),v.items?.map((B,M)=>s.jsx("th",{className:"px-6 py-4 text-center font-bangla",children:B.name||`Option ${M+1}`},M))]})}),s.jsx("tbody",{children:v.items?.[0]?.features?.map((B,M)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"px-6 py-4 font-semibold font-bangla",children:B.label}),v.items.map((q,ie)=>s.jsx("td",{className:"px-6 py-4 text-center font-bangla",children:q.features?.[M]?.value||"-"},ie))]},M))})]})})]})},F);case"tabs":const E=({items:B})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("div",{className:"flex overflow-x-auto",children:B?.slice(0,3).map((M,q)=>s.jsx("button",{className:`px-6 py-4 font-semibold border-b-2 transition whitespace-nowrap font-bangla ${q===0?"border-primary text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,style:q===0?{borderBottomColor:"var(--color-primary)"}:{},children:M.title||`Tab ${q+1}`},q))})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"font-bangla",dangerouslySetInnerHTML:{__html:B?.[0]?.content||""}})})]});return s.jsx("div",{className:"theme-section",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"theme-card",children:s.jsx(E,{items:v.items})})]})},F);case"grid":const I=v.gap==="none"?"0":v.gap==="small"?"0.5rem":v.gap==="large"?"2rem":"1rem";return s.jsx("div",{className:"theme-section",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${v.columns||2}, 1fr)`,gap:I},children:(v.items||[]).slice(0,v.columns||2).map((B,M)=>s.jsxs("div",{className:"theme-card",children:[B.type==="text"&&s.jsx("div",{className:"prose max-w-none font-bangla",children:B.content}),B.type==="image"&&B.image&&s.jsx("img",{src:B.image,alt:"",className:"w-full rounded-lg"}),B.type==="html"&&s.jsx("div",{className:"font-bangla",dangerouslySetInnerHTML:{__html:B.content||""}}),B.type==="video"&&B.content&&s.jsx("div",{className:"aspect-video",children:s.jsx("iframe",{src:B.content,className:"w-full h-full rounded-lg",allowFullScreen:!0})})]},M))})]})},F);case"flex":const W=v.direction||"row",H=v.align||"start",Y=v.justify||"start";return s.jsx("div",{className:"theme-section",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.title&&s.jsx("h2",{className:"theme-section-title font-bangla",children:v.title}),s.jsx("div",{className:"flex gap-4 flex-wrap",style:{flexDirection:W,alignItems:H==="start"?"flex-start":H==="end"?"flex-end":H==="center"?"center":"stretch",justifyContent:Y==="start"?"flex-start":Y==="end"?"flex-end":Y==="center"?"center":Y==="between"?"space-between":"space-around"},children:(v.items||[]).map((B,M)=>s.jsxs("div",{className:"theme-card flex-1 min-w-[200px]",children:[B.type==="text"&&s.jsx("div",{className:"prose max-w-none font-bangla",children:B.content}),B.type==="image"&&B.image&&s.jsx("img",{src:B.image,alt:"",className:"w-full rounded-lg"}),B.type==="html"&&s.jsx("div",{className:"font-bangla",dangerouslySetInnerHTML:{__html:B.content||""}}),B.type==="button"&&s.jsx("a",{href:B.buttonLink||"#",className:"btn-primary font-bangla inline-block",children:B.buttonText||"Button"})]},M))})]})},F);case"spacer":return s.jsx("div",{style:{height:`${v.height||50}px`},className:"my-4"},F);case"container":const ae={full:"100%","7xl":"1280px","6xl":"1152px","5xl":"1024px","4xl":"896px","3xl":"768px"},le={none:"0",small:"1rem",medium:"2rem",large:"4rem"};return s.jsx("div",{className:"my-8",style:{maxWidth:ae[v.maxWidth||"full"],margin:"0 auto",padding:le[v.padding||"medium"],backgroundColor:v.backgroundColor||"var(--color-background)",borderRadius:"var(--radius-xl)"},children:s.jsx("div",{className:"font-bangla",dangerouslySetInnerHTML:{__html:v.content||""}})},F);default:return null}})})})})]})};return s.jsxs("div",{className:"h-full flex relative bg-[#F6F6F7]",children:[s.jsx("div",{className:`fixed left-0 top-0 h-full bg-white border-r border-[#E1E3E5] z-50 transform transition-transform duration-200 ease-in-out ${i?"translate-x-0":"-translate-x-full"}`,style:{width:"360px",maxWidth:"90vw",boxShadow:i?"2px 0 8px rgba(0,0,0,0.08)":"none"},children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"bg-white border-b border-[#E1E3E5] px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#202223]",children:"Sections"}),s.jsx("button",{onClick:()=>l(!1),className:"text-[#637381] hover:text-[#202223] p-1.5 rounded hover:bg-[#F6F6F7] transition",title:"Close Builder",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),o.length===0&&s.jsxs("button",{onClick:D,className:"w-full bg-[#008060] text-white px-3 py-2 rounded text-xs font-medium hover:bg-[#006E52] transition shadow-sm flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Generate Demo Template"]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"p-3 border-b border-[#E1E3E5] bg-[#FAFAFA]",children:[s.jsx("h3",{className:"text-xs font-semibold text-[#637381] uppercase mb-2 px-1",children:"Add section"}),s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:p.filter(h=>h.category==="layout").map(h=>s.jsx("button",{onClick:()=>g(h.value),className:"bg-white border border-[#E1E3E5] px-3 py-2.5 rounded text-left hover:border-[#008060] hover:bg-[#F0FDF4] transition group",title:h.label,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-base group-hover:scale-110 transition-transform",children:h.icon}),s.jsx("span",{className:"text-xs font-medium text-[#202223]",children:h.label})]})},h.value))})}),s.jsx("div",{children:s.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:p.filter(h=>h.category==="content").map(h=>s.jsx("button",{onClick:()=>g(h.value),className:"bg-white border border-[#E1E3E5] px-3 py-2.5 rounded text-left hover:border-[#008060] hover:bg-[#F0FDF4] transition group",title:h.label,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-base group-hover:scale-110 transition-transform",children:h.icon}),s.jsx("span",{className:"text-xs font-medium text-[#202223]",children:h.label})]})},h.value))})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h3",{className:"text-xs font-semibold text-[#637381] uppercase mb-2 px-1",children:"Page sections"}),s.jsx(Us,{onDragEnd:N,children:s.jsx(ua,{droppableId:"sections",children:h=>s.jsxs("div",{...h.droppableProps,ref:h.innerRef,className:"space-y-2",children:[o.map((x,v)=>s.jsx(Ec,{draggableId:`section-${v}`,index:v,children:(F,L)=>s.jsxs("div",{ref:F.innerRef,...F.draggableProps,className:`bg-white border rounded ${L.isDragging?"border-[#008060] shadow-lg":"border-[#E1E3E5] hover:border-[#C9CCCF]"} transition-all`,children:[s.jsxs("div",{className:"px-3 py-2.5 border-b border-[#E1E3E5] flex items-center justify-between bg-[#FAFAFA]",children:[s.jsxs("div",{...F.dragHandleProps,className:"flex items-center gap-2 cursor-move flex-1",children:[s.jsx("svg",{className:"w-4 h-4 text-[#637381]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8h16M4 16h16"})}),s.jsx("span",{className:"text-sm font-medium text-[#202223]",children:p.find(b=>b.value===x.type)?.label||x.type})]}),s.jsx("button",{onClick:()=>y(v),className:"text-[#637381] hover:text-[#BF0711] p-1 rounded hover:bg-[#F6F6F7] transition",title:"Remove section",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Section title (optional)",value:x.title||"",onChange:b=>m(v,"title",b.target.value),className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),x.type==="rich_text"&&s.jsx("textarea",{placeholder:"Enter HTML content",value:x.content||"",onChange:b=>m(v,"content",b.target.value),rows:4,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),x.type==="image_gallery"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex gap-2 flex-wrap",children:(x.images||[]).map((b,P)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:b,alt:"",className:"w-20 h-20 object-cover rounded border"}),s.jsx("button",{onClick:()=>j(v,P),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]},P))}),s.jsx("button",{onClick:async()=>{const b=await S(v,"new");if(b){const P=[...o];P[v].images||(P[v].images=[]),P[v].images.push(b),a(P)}},disabled:f[`${v}-new`],className:"bg-[#008060] text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-[#006E52] disabled:opacity-50 disabled:cursor-not-allowed transition",children:f[`${v}-new`]?"Uploading...":"+ Upload Image"}),s.jsx("input",{type:"text",placeholder:"Or paste image URL",onBlur:b=>{if(b.target.value){const P=[...o];P[v].images||(P[v].images=[]),P[v].images.push(b.target.value),a(P),b.target.value=""}},className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]}),x.type==="banner"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{placeholder:"Banner content",value:x.content||"",onChange:b=>m(v,"content",b.target.value),rows:2,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Background:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:x.background_color||"#4F46E5",onChange:b=>m(v,"background_color",b.target.value),className:"w-16 h-10",title:"Background Color"}),s.jsx("input",{type:"color",value:x.text_color||"#FFFFFF",onChange:b=>m(v,"text_color",b.target.value),className:"w-16 h-10",title:"Text Color"})]}),s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Background Image:"}),s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("input",{type:"text",placeholder:"Background image URL",value:x.background_image||"",onChange:b=>m(v,"background_image",b.target.value),className:"flex-1 px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("button",{onClick:async()=>{const b=await S(v,"bg");b&&m(v,"background_image",b)},disabled:f[`${v}-bg`],className:"bg-[#008060] text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-[#006E52] disabled:opacity-50 disabled:cursor-not-allowed transition whitespace-nowrap",children:f[`${v}-bg`]?"Uploading...":"Upload"})]}),s.jsx("button",{onClick:async()=>{const b=await S(v,"new");if(b){const P=[...o];P[v].images||(P[v].images=[]),P[v].images[0]=b,a(P)}},disabled:f[`${v}-new`],className:"bg-[#008060] text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-[#006E52] disabled:opacity-50 disabled:cursor-not-allowed transition w-full",children:f[`${v}-new`]?"Uploading...":"+ Upload Banner Content Image"})]}),x.type==="faq"&&s.jsxs("div",{className:"space-y-2",children:[(x.items||[]).map((b,P)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("input",{type:"text",placeholder:"Question",value:b.question||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],question:E.target.value},m(v,"items",I)},className:"w-full mb-2 px-3 py-2 border border-neutral-300 rounded-lg text-sm"}),s.jsx("textarea",{placeholder:"Answer",value:b.answer||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],answer:E.target.value},m(v,"items",I)},rows:2,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]},P)),s.jsx("button",{onClick:()=>{const b=[...x.items||[],{question:"",answer:""}];m(v,"items",b)},className:"text-[#008060] hover:text-[#006E52] text-sm font-medium transition",children:"+ Add FAQ"})]}),x.type==="testimonials"&&s.jsxs("div",{className:"space-y-2",children:[(x.items||[]).map((b,P)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("textarea",{placeholder:"Testimonial text",value:b.text||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],text:E.target.value},m(v,"items",I)},rows:2,className:"w-full mb-2 px-3 py-2 border border-neutral-300 rounded-lg text-sm"}),s.jsx("input",{type:"text",placeholder:"Author name",value:b.author||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],author:E.target.value},m(v,"items",I)},className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]},P)),s.jsx("button",{onClick:()=>{const b=[...x.items||[],{text:"",author:""}];m(v,"items",b)},className:"text-[#008060] hover:text-[#006E52] text-sm font-medium transition",children:"+ Add Testimonial"})]}),x.type==="video"&&s.jsx("input",{type:"url",placeholder:"Video embed URL (YouTube, Vimeo, etc.)",value:x.url||"",onChange:b=>m(v,"url",b.target.value),className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),x.type==="specifications"&&s.jsxs("div",{className:"space-y-2",children:[(x.items||[]).map((b,P)=>s.jsxs("div",{className:"bg-white p-3 rounded border grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"text",placeholder:"Label",value:b.label||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],label:E.target.value},m(v,"items",I)},className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("input",{type:"text",placeholder:"Value",value:b.value||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],value:E.target.value},m(v,"items",I)},className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]},P)),s.jsx("button",{onClick:()=>{const b=[...x.items||[],{label:"",value:""}];m(v,"items",b)},className:"text-[#008060] hover:text-[#006E52] text-sm font-medium transition",children:"+ Add Specification"})]}),x.type==="hero"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"Main headline",value:x.title||"",onChange:b=>m(v,"title",b.target.value),className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("textarea",{placeholder:"Subtitle/Description",value:x.subtitle||"",onChange:b=>m(v,"subtitle",b.target.value),rows:2,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"text",placeholder:"Button Text",value:x.button_text||"",onChange:b=>m(v,"button_text",b.target.value),className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("input",{type:"url",placeholder:"Button Link",value:x.button_link||"",onChange:b=>m(v,"button_link",b.target.value),className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]}),s.jsx("button",{onClick:async()=>{const b=await S(v,"new");if(b){const P=[...o];P[v].images||(P[v].images=[]),P[v].images[0]=b,a(P)}},disabled:f[`${v}-new`],className:"bg-[#008060] text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-[#006E52] disabled:opacity-50 disabled:cursor-not-allowed transition w-full",children:f[`${v}-new`]?"Uploading...":"+ Upload Hero Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Background:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:x.background_color||"#4F46E5",onChange:b=>m(v,"background_color",b.target.value),className:"w-16 h-10",title:"Background Color"}),s.jsx("input",{type:"color",value:x.text_color||"#FFFFFF",onChange:b=>m(v,"text_color",b.target.value),className:"w-16 h-10",title:"Text Color"})]}),s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Background Image:"}),s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("input",{type:"text",placeholder:"Background image URL",value:x.background_image||"",onChange:b=>m(v,"background_image",b.target.value),className:"flex-1 px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("button",{onClick:async()=>{const b=await S(v,"bg");b&&m(v,"background_image",b)},disabled:f[`${v}-bg`],className:"bg-[#008060] text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-[#006E52] disabled:opacity-50 disabled:cursor-not-allowed transition whitespace-nowrap",children:f[`${v}-bg`]?"Uploading...":"Upload"})]}),s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Button Colors:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:x.button_bg_color||"#2563EB",onChange:b=>m(v,"button_bg_color",b.target.value),className:"w-16 h-10",title:"Button Background Color"}),s.jsx("input",{type:"color",value:x.button_text_color||"#FFFFFF",onChange:b=>m(v,"button_text_color",b.target.value),className:"w-16 h-10",title:"Button Text Color"})]})]})]}),x.type==="order_form"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"Order Form Title (optional)",value:x.title||"",onChange:b=>m(v,"title",b.target.value),className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("textarea",{placeholder:"Order Form Description (optional)",value:x.content||"",onChange:b=>m(v,"content",b.target.value),rows:2,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("p",{className:"text-xs text-gray-500",children:"This form will automatically use the product details from the page."})]}),x.type==="benefits"&&s.jsxs("div",{className:"space-y-2",children:[(x.items||[]).map((b,P)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("input",{type:"text",placeholder:"Benefit title",value:b.title||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],title:E.target.value},m(v,"items",I)},className:"w-full mb-2 px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("textarea",{placeholder:"Benefit description",value:b.description||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],description:E.target.value},m(v,"items",I)},rows:2,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]},P)),s.jsx("button",{onClick:()=>{const b=[...x.items||[],{title:"",description:""}];m(v,"items",b)},className:"text-[#008060] hover:text-[#006E52] text-sm font-medium transition",children:"+ Add Benefit"})]}),x.type==="pricing"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"text",placeholder:"Original Price",value:x.original_price||"",onChange:b=>m(v,"original_price",b.target.value),className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("input",{type:"text",placeholder:"Offer Price",value:x.offer_price||"",onChange:b=>m(v,"offer_price",b.target.value),className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]}),s.jsx("input",{type:"text",placeholder:"Discount text (e.g., 'Save 30%')",value:x.discount_text||"",onChange:b=>m(v,"discount_text",b.target.value),className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("input",{type:"datetime-local",placeholder:"Countdown end date",value:x.countdown_date||"",onChange:b=>m(v,"countdown_date",b.target.value),className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]}),x.type==="steps"&&s.jsxs("div",{className:"space-y-2",children:[(x.items||[]).map((b,P)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("input",{type:"text",placeholder:`Step ${P+1} title`,value:b.title||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],title:E.target.value},m(v,"items",I)},className:"w-full mb-2 px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("textarea",{placeholder:"Step description",value:b.description||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],description:E.target.value},m(v,"items",I)},rows:2,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]},P)),s.jsx("button",{onClick:()=>{const b=[...x.items||[],{title:"",description:""}];m(v,"items",b)},className:"text-[#008060] hover:text-[#006E52] text-sm font-medium transition",children:"+ Add Step"})]}),x.type==="social_links"&&s.jsxs("div",{className:"space-y-2",children:[(x.items||[]).map((b,P)=>s.jsxs("div",{className:"bg-white p-3 rounded border grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"text",placeholder:"Platform (Facebook, WhatsApp, etc.)",value:b.platform||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],platform:E.target.value},m(v,"items",I)},className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("input",{type:"url",placeholder:"Link URL",value:b.url||"",onChange:E=>{const I=[...x.items||[]];I[P]={...I[P],url:E.target.value},m(v,"items",I)},className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]},P)),s.jsx("button",{onClick:()=>{const b=[...x.items||[],{platform:"",url:""}];m(v,"items",b)},className:"text-[#008060] hover:text-[#006E52] text-sm font-medium transition",children:"+ Add Social Link"})]}),x.type==="contact_info"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"tel",placeholder:"Phone number",value:x.phone||"",onChange:b=>m(v,"phone",b.target.value),className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("input",{type:"email",placeholder:"Email address",value:x.email||"",onChange:b=>m(v,"email",b.target.value),className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("textarea",{placeholder:"Address or additional contact info",value:x.address||"",onChange:b=>m(v,"address",b.target.value),rows:2,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]}),x.type==="call_to_action"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{placeholder:"CTA content",value:x.content||"",onChange:b=>m(v,"content",b.target.value),rows:2,className:"w-full px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"text",placeholder:"Button Text",value:x.button_text||"",onChange:b=>m(v,"button_text",b.target.value),className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("input",{type:"url",placeholder:"Button Link",value:x.button_link||"",onChange:b=>m(v,"button_link",b.target.value),className:"px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"})]}),s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Background:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:x.background_color||"#4F46E5",onChange:b=>m(v,"background_color",b.target.value),className:"w-16 h-10",title:"Background Color"}),s.jsx("input",{type:"color",value:x.text_color||"#FFFFFF",onChange:b=>m(v,"text_color",b.target.value),className:"w-16 h-10",title:"Text Color"})]}),s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Background Image:"}),s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("input",{type:"text",placeholder:"Background image URL",value:x.background_image||"",onChange:b=>m(v,"background_image",b.target.value),className:"flex-1 px-2.5 py-1.5 border border-[#E1E3E5] rounded text-sm text-[#202223] placeholder:text-[#8C9196] focus:outline-none focus:ring-1 focus:ring-[#008060] focus:border-[#008060]"}),s.jsx("button",{onClick:async()=>{const b=await S(v,"bg");b&&m(v,"background_image",b)},disabled:f[`${v}-bg`],className:"bg-[#008060] text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-[#006E52] disabled:opacity-50 disabled:cursor-not-allowed transition whitespace-nowrap",children:f[`${v}-bg`]?"Uploading...":"Upload"})]})]}),x.type==="grid"&&s.jsx(Fc,{section:x,index:v,updateSection:m,removeImage:j,uploadImage:async(b,P)=>{const E=`${b}-${P}`;d(I=>({...I,[E]:!0}));try{const I=await S(b,P);return d(W=>({...W,[E]:!1})),I}catch(I){throw d(W=>({...W,[E]:!1})),I}},uploading:f}),x.type==="flex"&&s.jsx(Bc,{section:x,index:v,updateSection:m,removeImage:j,uploadImage:async(b,P)=>{const E=`${b}-${P}`;d(I=>({...I,[E]:!0}));try{const I=await S(b,P);return d(W=>({...W,[E]:!1})),I}catch(I){throw d(W=>({...W,[E]:!1})),I}},uploading:f}),x.type==="spacer"&&s.jsx(Rc,{section:x,index:v,updateSection:m}),x.type==="container"&&s.jsx(Oc,{section:x,index:v,updateSection:m})]})]})},v)),h.placeholder,o.length===0&&s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx("div",{className:"text-[#8C9196] mb-2",children:s.jsx("svg",{className:"w-12 h-12 mx-auto opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("p",{className:"text-sm text-[#637381]",children:"No sections yet"}),s.jsx("p",{className:"text-xs text-[#8C9196] mt-1",children:"Add a section to get started"})]})]})})})]}),s.jsx("div",{className:"sticky bottom-0 bg-white border-t border-[#E1E3E5] p-3 mt-auto",children:s.jsx("button",{onClick:w,className:"w-full bg-[#008060] text-white px-4 py-2 rounded text-sm font-medium hover:bg-[#006E52] transition shadow-sm",children:"Save"})})]})]})}),s.jsx("div",{className:"flex-1 h-full overflow-y-auto transition-all duration-200 bg-white",style:{marginLeft:i?"360px":"0"},children:s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-[#E1E3E5] z-40 px-4 py-2.5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>l(!i),className:"text-[#637381] hover:text-[#202223] p-1.5 rounded hover:bg-[#F6F6F7] transition",title:"Toggle sidebar",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx("div",{className:"h-4 w-px bg-[#E1E3E5]"}),s.jsx("span",{className:"text-sm font-medium text-[#202223]",children:"Preview"})]}),t&&s.jsxs("a",{href:`/products/${t}`,target:"_blank",className:"inline-flex items-center gap-1.5 text-[#008060] hover:text-[#006E52] px-3 py-1.5 text-sm font-medium hover:bg-[#F0FDF4] rounded transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open in new tab"]})]}),s.jsx("div",{className:"p-6 bg-[#F6F6F7] min-h-full",children:C()})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)})]})};function Zt(){const e=document.getElementById("theme-builder-container");if(!e){console.error("Theme builder container not found");return}try{const r=JSON.parse(e.dataset.layout||"[]"),t=e.dataset.productId;if(!t){console.error("Product ID not found");return}const n=l=>{const c=document.querySelector('meta[name="csrf-token"]');if(!c){alert("CSRF token not found. Please refresh the page.");return}fetch(`/admin/products/${t}/builder`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c.content,Accept:"application/json"},body:JSON.stringify({page_layout:l})}).then(u=>{if(!u.ok)throw new Error("Network response was not ok");return u.json()}).then(u=>{if(u.success){const f=document.createElement("div");f.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",f.textContent=u.message||"Layout saved successfully!",document.body.appendChild(f),setTimeout(()=>{f.remove()},3e3)}}).catch(u=>{console.error("Error saving layout:",u),alert("Error saving layout. Please try again.")})},o=e.dataset.productSlug||"",a={name:e.dataset.productName||"",description:e.dataset.productDescription||"",shortDescription:e.dataset.productShortDescription||"",price:e.dataset.productPrice||"",comparePrice:e.dataset.productComparePrice||"",images:JSON.parse(e.dataset.productImages||"[]")};fa.createRoot(e).render(U.createElement(Tc,{initialLayout:r,onSave:n,productSlug:o,productData:a}))}catch(r){console.error("Error initializing theme builder:",r),e.innerHTML='<div class="p-8 text-center text-red-600">Error loading page builder. Please refresh the page.</div>'}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Zt):Zt();
